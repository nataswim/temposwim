{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Downloads/APP_NS_V1/dev_projet/sauvegardegit/front/src/pages/admin/exercises/ExerciseFormPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FaArrowLeft, FaSave, FaUpload, FaImage, FaTrash, FaExclamationTriangle, FaInfoCircle, FaSearch, FaChevronLeft, FaChevronRight, FaDumbbell, FaSortAmountDownAlt } from 'react-icons/fa';\nimport { getExercise, createExercise, updateExercise } from '../../../services/exercises';\nimport { getUpload, createUpload, getUploads } from '../../../services/uploads';\nimport { getUsers } from '../../../services/users';\nimport TextEditor from \"../../../components/ui/forms/TextEditor\";\nimport \"quill/dist/quill.snow.css\"; // Import du CSS pour TextEditor\n\n/**\n * ðŸ‡¬ðŸ‡§ Form page for creating and editing exercises\n * ðŸ‡«ðŸ‡· Page de formulaire pour crÃ©er et modifier des exercices\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ExerciseFormPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const isEditMode = !!id;\n\n  // Form state\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    exercise_level: '',\n    exercise_category: '',\n    upload_id: '',\n    user_id: ''\n  });\n\n  // File upload state\n  const [newImageFile, setNewImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [currentImage, setCurrentImage] = useState(null);\n\n  // Status states\n  const [loading, setLoading] = useState(false);\n  const [uploadsLoading, setUploadsLoading] = useState(false);\n  const [usersLoading, setUsersLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [apiErrors, setApiErrors] = useState({\n    uploads: null,\n    users: null\n  });\n  const [uploads, setUploads] = useState([]);\n  const [users, setUsers] = useState([]);\n\n  /**\n   * ðŸ‡¬ðŸ‡§ New states for image search and pagination\n   * ðŸ‡«ðŸ‡· Nouveaux Ã©tats pour la recherche d'images et la pagination\n   */\n  const [imageSearchTerm, setImageSearchTerm] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [imagesPerPage] = useState(20);\n  const [filteredUploads, setFilteredUploads] = useState([]);\n\n  // Exercise levels and categories for dropdown options\n  const exerciseLevels = ['DÃ©butant', 'IntermÃ©diaire', 'AvancÃ©'];\n  const exerciseCategories = ['Correctif De Nage', 'Correctif De Style', 'Travail de Base'];\n\n  // Load exercise data if in edit mode\n  useEffect(() => {\n    const fetchExercise = async () => {\n      if (isEditMode) {\n        try {\n          setLoading(true);\n          const response = await getExercise(id);\n          const exerciseData = response.data;\n          setFormData({\n            title: exerciseData.title || '',\n            description: exerciseData.description || '',\n            exercise_level: exerciseData.exercise_level || '',\n            exercise_category: exerciseData.exercise_category || '',\n            upload_id: exerciseData.upload_id ? exerciseData.upload_id.toString() : '',\n            user_id: exerciseData.user_id ? exerciseData.user_id.toString() : ''\n          });\n\n          // Fetch current image if available\n          if (exerciseData.upload_id) {\n            try {\n              const imageResponse = await getUpload(exerciseData.upload_id);\n              setCurrentImage(imageResponse.data);\n            } catch (imageError) {\n              console.error('Erreur lors du chargement de l\\'image:', imageError);\n            }\n          }\n          setError(null);\n        } catch (err) {\n          var _err$response, _err$response$data;\n          console.error('Erreur lors du chargement de l\\'exercice:', err);\n          setError(`Erreur lors du chargement de l'exercice: ${((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message}`);\n        } finally {\n          setLoading(false);\n        }\n      }\n    };\n    fetchExercise();\n  }, [id, isEditMode]);\n\n  // Load uploads\n  useEffect(() => {\n    const fetchUploads = async () => {\n      try {\n        setUploadsLoading(true);\n        setApiErrors(prev => ({\n          ...prev,\n          uploads: null\n        }));\n\n        // Utiliser le service API au lieu de fetch direct\n        const response = await getUploads();\n        console.log('Uploads rÃ©cupÃ©rÃ©s:', response.data);\n\n        /**\n         * ðŸ‡¬ðŸ‡§ Sort uploads by creation date (newest first) instead of by filename\n         * ðŸ‡«ðŸ‡· Trier les uploads par date de crÃ©ation (les plus rÃ©cents d'abord) au lieu du nom de fichier\n         */\n        const sortedUploads = response.data.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));\n        setUploads(sortedUploads);\n\n        /**\n         * ðŸ‡¬ðŸ‡§ Initialize filtered uploads with only image type uploads\n         * ðŸ‡«ðŸ‡· Initialiser les uploads filtrÃ©s avec uniquement les uploads de type image\n         */\n        setFilteredUploads(sortedUploads.filter(u => u.type === 'image'));\n      } catch (err) {\n        console.error(\"Erreur lors du chargement des images:\", err);\n        setApiErrors(prev => ({\n          ...prev,\n          uploads: `Erreur lors du chargement des images: ${err.message}`\n        }));\n      } finally {\n        setUploadsLoading(false);\n      }\n    };\n    fetchUploads();\n  }, []);\n\n  /**\n   * ðŸ‡¬ðŸ‡§ Effect for filtering uploads based on search term\n   * ðŸ‡«ðŸ‡· Effet pour filtrer les uploads en fonction du terme de recherche\n   */\n  useEffect(() => {\n    // Reset to first page when search term changes\n    setCurrentPage(1);\n\n    // Filter uploads based on search term and image type\n    const filteredResults = uploads.filter(upload => upload.type === 'image' && upload.filename.toLowerCase().includes(imageSearchTerm.toLowerCase()));\n    setFilteredUploads(filteredResults);\n  }, [imageSearchTerm, uploads]);\n\n  // Load users\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        setUsersLoading(true);\n        setApiErrors(prev => ({\n          ...prev,\n          users: null\n        }));\n\n        // Utiliser le service API au lieu de fetch direct\n        const response = await getUsers();\n        console.log('Utilisateurs rÃ©cupÃ©rÃ©s:', response.data);\n\n        // Trier les utilisateurs par nom d'utilisateur\n        const sortedUsers = response.data.sort((a, b) => {\n          const nameA = a.username || a.email || '';\n          const nameB = b.username || b.email || '';\n          return nameA.localeCompare(nameB);\n        });\n        setUsers(sortedUsers);\n      } catch (err) {\n        console.error(\"Erreur lors du chargement des utilisateurs:\", err);\n        setApiErrors(prev => ({\n          ...prev,\n          users: `Erreur lors du chargement des utilisateurs: ${err.message}`\n        }));\n      } finally {\n        setUsersLoading(false);\n      }\n    };\n    fetchUsers();\n  }, []);\n\n  // Handle form input changes\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Handle category selection\n  const handleCategoryChange = category => {\n    setFormData(prev => ({\n      ...prev,\n      exercise_category: prev.exercise_category === category ? '' : category\n    }));\n  };\n\n  // Handle file selection\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Validate file type\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];\n    if (!allowedTypes.includes(file.type)) {\n      setError('Type de fichier non supportÃ©. Utilisez JPG, PNG ou GIF.');\n      return;\n    }\n\n    // Validate file size (max 2MB)\n    const maxSize = 2 * 1024 * 1024; // 2MB\n    if (file.size > maxSize) {\n      setError('L\\'image est trop volumineuse. Taille maximum: 2MB');\n      return;\n    }\n    setNewImageFile(file);\n\n    // Create image preview\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setImagePreview(reader.result);\n    };\n    reader.readAsDataURL(file);\n\n    // Reset any existing upload_id\n    setFormData(prev => ({\n      ...prev,\n      upload_id: ''\n    }));\n\n    // Clear any errors\n    setError(null);\n  };\n\n  // Handle image removal\n  const handleRemoveImage = () => {\n    setNewImageFile(null);\n    setImagePreview(null);\n    setFormData(prev => ({\n      ...prev,\n      upload_id: ''\n    }));\n  };\n\n  // Handle existing image selection\n  const handleExistingImageSelect = uploadId => {\n    setFormData(prev => ({\n      ...prev,\n      upload_id: uploadId\n    }));\n    setNewImageFile(null);\n    setImagePreview(null);\n  };\n\n  /**\n   * ðŸ‡¬ðŸ‡§ Handle image search input change\n   * ðŸ‡«ðŸ‡· GÃ©rer le changement dans le champ de recherche d'images\n   */\n  const handleImageSearchChange = e => {\n    setImageSearchTerm(e.target.value);\n  };\n\n  /**\n   * ðŸ‡¬ðŸ‡§ Handle pagination - go to next page\n   * ðŸ‡«ðŸ‡· GÃ©rer la pagination - aller Ã  la page suivante\n   */\n  const handleNextPage = () => {\n    const totalPages = Math.ceil(filteredUploads.length / imagesPerPage);\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  /**\n   * ðŸ‡¬ðŸ‡§ Handle pagination - go to previous page\n   * ðŸ‡«ðŸ‡· GÃ©rer la pagination - aller Ã  la page prÃ©cÃ©dente\n   */\n  const handlePrevPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  /**\n   * ðŸ‡¬ðŸ‡§ Get current images to display based on pagination\n   * ðŸ‡«ðŸ‡· Obtenir les images actuelles Ã  afficher en fonction de la pagination\n   */\n  const getCurrentImages = () => {\n    const indexOfLastImage = currentPage * imagesPerPage;\n    const indexOfFirstImage = indexOfLastImage - imagesPerPage;\n    return filteredUploads.slice(indexOfFirstImage, indexOfLastImage);\n  };\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Validation\n    if (!formData.title || !formData.user_id) {\n      setError('Veuillez remplir tous les champs obligatoires');\n      return;\n    }\n    try {\n      setSaving(true);\n      setError(null);\n\n      // Upload new image if provided\n      let finalUploadId = formData.upload_id;\n      if (newImageFile) {\n        const imageFormData = new FormData();\n        imageFormData.append('filename', newImageFile.name);\n        imageFormData.append('file', newImageFile);\n        imageFormData.append('type', 'image');\n        imageFormData.append('user_id', formData.user_id);\n        const uploadResponse = await createUpload(imageFormData);\n        finalUploadId = uploadResponse.data.id.toString();\n      }\n\n      // PrÃ©parer les donnÃ©es Ã  envoyer\n      const submitData = {\n        title: formData.title,\n        description: formData.description,\n        exercise_level: formData.exercise_level || null,\n        exercise_category: formData.exercise_category || null,\n        upload_id: finalUploadId ? parseInt(finalUploadId) : null,\n        user_id: parseInt(formData.user_id)\n      };\n      if (isEditMode) {\n        await updateExercise(id, submitData);\n      } else {\n        await createExercise(submitData);\n      }\n\n      // Rediriger vers la liste des exercices\n      navigate('/admin/exercises');\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Erreur lors de la sauvegarde:', err);\n      setError(`Erreur lors de l'enregistrement: ${((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || err.message}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Fonction pour dÃ©boguer l'Ã©tat actuel des composants principaux\n  const logDebugState = () => {\n    console.log('Ã‰tat actuel:', {\n      users: {\n        count: users.length,\n        firstUser: users[0],\n        loading: usersLoading,\n        error: apiErrors.users\n      },\n      uploads: {\n        count: uploads.length,\n        imagesCount: uploads.filter(u => u.type === 'image').length,\n        firstUpload: uploads[0],\n        loading: uploadsLoading,\n        error: apiErrors.uploads\n      },\n      formData,\n      pagination: {\n        currentPage,\n        imagesPerPage,\n        totalImages: filteredUploads.length,\n        totalPages: Math.ceil(filteredUploads.length / imagesPerPage)\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card border-0 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header bg-primary-subtle\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"card-title mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(FaDumbbell, {\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 32\n              }, this), \"Cr\\xE9er un nouvel exercice\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 30\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 28\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 24\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-success btn-lg d-flex align-items-center\",\n      onClick: () => navigate('/admin/exercises'),\n      children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n        className: \"me-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this), \" Retour \\xE0 la liste\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title mb-0\",\n          children: isEditMode ? \"Modifier l'exercice\" : \"CrÃ©er un nouvel exercice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-border text-primary\",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Chargement...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger\",\n            role: \"alert\",\n            children: [/*#__PURE__*/_jsxDEV(FaExclamationTriangle, {\n              className: \"me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 19\n            }, this), error]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              className: \"form-label\",\n              children: [\"Titre \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-danger\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 69\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"title\",\n              name: \"title\",\n              value: formData.title,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextEditor, {\n              value: formData.description,\n              onChange: value => setFormData(prev => ({\n                ...prev,\n                description: value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"exercise_level\",\n              className: \"form-label\",\n              children: \"Niveau\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              id: \"exercise_level\",\n              name: \"exercise_level\",\n              value: formData.exercise_level,\n              onChange: handleChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"S\\xE9lectionner un niveau\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this), exerciseLevels.map(level => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: level,\n                children: level\n              }, level, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label d-block\",\n              children: \"Cat\\xE9gorie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex flex-wrap gap-2\",\n              children: exerciseCategories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `btn ${formData.exercise_category === category ? 'btn-primary' : 'btn-outline-primary'}`,\n                onClick: () => handleCategoryChange(category),\n                children: category\n              }, category, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"card-subtitle mb-3\",\n                  children: \"T\\xE9l\\xE9charger une nouvelle image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 21\n                }, this), imagePreview ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"position-relative mb-2\",\n                    style: {\n                      maxWidth: '300px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: imagePreview,\n                      alt: \"Aper\\xE7u\",\n                      className: \"img-fluid rounded\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 515,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-sm btn-danger position-absolute top-0 end-0 m-2\",\n                      onClick: handleRemoveImage,\n                      title: \"Supprimer l'image\",\n                      children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 526,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 520,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 514,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: [\"Fichier s\\xE9lectionn\\xE9: \", newImageFile === null || newImageFile === void 0 ? void 0 : newImageFile.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"btn btn-outline-primary\",\n                    children: [/*#__PURE__*/_jsxDEV(FaUpload, {\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 536,\n                      columnNumber: 27\n                    }, this), \" S\\xE9lectionner une image\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      accept: \"image/*\",\n                      onChange: handleFileChange,\n                      className: \"d-none\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 537,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header bg-light\",\n                children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"card-subtitle mb-0\",\n                  children: [\"Ou s\\xE9lectionner une image existante\", formData.upload_id && !newImageFile && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-success ms-2\",\n                    children: \"(Image s\\xE9lectionn\\xE9e)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [uploadsLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"spinner-border spinner-border-sm text-primary me-2\",\n                    role: \"status\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"visually-hidden\",\n                      children: \"Chargement...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 566,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 565,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Chargement des images disponibles...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 568,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 23\n                }, this), apiErrors.uploads && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alert alert-warning\",\n                  role: \"alert\",\n                  children: [/*#__PURE__*/_jsxDEV(FaExclamationTriangle, {\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 575,\n                    columnNumber: 25\n                  }, this), apiErrors.uploads]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 23\n                }, this), isEditMode && currentImage && formData.upload_id && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-2\",\n                    children: \"Image actuelle:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 583,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: currentImage.url,\n                      alt: currentImage.filename,\n                      className: \"img-thumbnail me-3\",\n                      style: {\n                        maxWidth: '100px',\n                        maxHeight: '100px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 585,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"mb-1\",\n                        children: currentImage.filename\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 592,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-sm btn-outline-danger\",\n                        onClick: () => setFormData(prev => ({\n                          ...prev,\n                          upload_id: ''\n                        })),\n                        children: \"Retirer\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 593,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 591,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 23\n                }, this), !uploadsLoading && !apiErrors.uploads && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"input-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"input-group-text\",\n                      id: \"image-search\",\n                      children: /*#__PURE__*/_jsxDEV(FaSearch, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 610,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 609,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      placeholder: \"Rechercher une image par nom...\",\n                      value: imageSearchTerm,\n                      onChange: handleImageSearchChange,\n                      \"aria-label\": \"Rechercher une image\",\n                      \"aria-describedby\": \"image-search\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 612,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 608,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex align-items-center mt-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: [/*#__PURE__*/_jsxDEV(FaSortAmountDownAlt, {\n                        className: \"me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 624,\n                        columnNumber: 29\n                      }, this), \"Les plus r\\xE9centes en premier \\u2022\", filteredUploads.length, \" image\", filteredUploads.length !== 1 ? 's' : '', \" disponible\", filteredUploads.length !== 1 ? 's' : '']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 623,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 622,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 23\n                }, this), !uploadsLoading && !apiErrors.uploads && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: filteredUploads.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row row-cols-2 row-cols-md-3 row-cols-lg-4 g-3\",\n                      children: getCurrentImages().map(upload => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `card h-100 ${formData.upload_id === upload.id.toString() ? 'border-primary' : ''}`,\n                          onClick: () => handleExistingImageSelect(upload.id.toString()),\n                          style: {\n                            cursor: 'pointer'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"card-img-top\",\n                            style: {\n                              height: '120px',\n                              overflow: 'hidden'\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: upload.url,\n                              alt: upload.filename,\n                              className: \"img-fluid w-100 h-100\",\n                              style: {\n                                objectFit: 'cover'\n                              },\n                              onError: e => e.target.src = 'https://placehold.co/100x100?text=Error'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 646,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 645,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"card-body p-2\",\n                            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"card-text small text-truncate mb-0\",\n                              title: upload.filename,\n                              children: upload.filename\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 655,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                              className: \"text-muted\",\n                              children: new Date(upload.created_at).toLocaleDateString()\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 658,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 654,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 640,\n                          columnNumber: 35\n                        }, this)\n                      }, upload.id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 639,\n                        columnNumber: 33\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 637,\n                      columnNumber: 29\n                    }, this), filteredUploads.length > imagesPerPage && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex justify-content-between align-items-center mt-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-sm btn-outline-secondary\",\n                        onClick: handlePrevPage,\n                        disabled: currentPage === 1,\n                        children: [/*#__PURE__*/_jsxDEV(FaChevronLeft, {\n                          className: \"me-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 676,\n                          columnNumber: 35\n                        }, this), \" Pr\\xE9c\\xE9dent\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 670,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"px-3\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-muted\",\n                          children: [\"Page \", currentPage, \" sur \", Math.ceil(filteredUploads.length / imagesPerPage)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 680,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 679,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-sm btn-outline-secondary\",\n                        onClick: handleNextPage,\n                        disabled: currentPage >= Math.ceil(filteredUploads.length / imagesPerPage),\n                        children: [\"Suivant \", /*#__PURE__*/_jsxDEV(FaChevronRight, {\n                          className: \"ms-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 691,\n                          columnNumber: 43\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 685,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 669,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"alert alert-info\",\n                    role: \"alert\",\n                    children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 698,\n                      columnNumber: 29\n                    }, this), imageSearchTerm ? `Aucune image trouvÃ©e pour \"${imageSearchTerm}\".` : 'Aucune image disponible. Veuillez tÃ©lÃ©charger une nouvelle image.']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 697,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"user_id\",\n              className: \"form-label\",\n              children: [\"Cr\\xE9\\xE9 par \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-danger\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 711,\n                columnNumber: 74\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 17\n            }, this), usersLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner-border spinner-border-sm text-primary me-2\",\n                role: \"status\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"visually-hidden\",\n                  children: \"Chargement...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 716,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Chargement des utilisateurs...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 719,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 19\n            }, this), apiErrors.users && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-warning\",\n              role: \"alert\",\n              children: [/*#__PURE__*/_jsxDEV(FaExclamationTriangle, {\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 21\n              }, this), apiErrors.users]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              id: \"user_id\",\n              name: \"user_id\",\n              value: formData.user_id,\n              onChange: handleChange,\n              required: true,\n              disabled: usersLoading,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"S\\xE9lectionner un cr\\xE9ateur\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 740,\n                columnNumber: 19\n              }, this), users.map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: user.id,\n                children: user.first_name && user.last_name ? `${user.first_name} ${user.last_name} (${user.username || user.email})` : user.username || user.email || `Utilisateur #${user.id}`\n              }, user.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 742,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 731,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: saving,\n              children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"spinner-border spinner-border-sm me-2\",\n                  role: \"status\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 759,\n                  columnNumber: 23\n                }, this), \"Enregistrement...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(FaSave, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 764,\n                  columnNumber: 23\n                }, this), \" Enregistrer\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this), process.env.NODE_ENV === 'development' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header bg-light\",\n        children: /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mb-0\",\n          children: \"Informations de d\\xE9bogage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 778,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 777,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-sm btn-outline-secondary me-2\",\n          onClick: logDebugState,\n          children: \"Logger l'\\xE9tat actuel dans la console\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Images:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 35\n            }, this), \" \", uploads.length, \" total, \", uploads.filter(u => u.type === 'image').length, \" images\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Utilisateurs:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 791,\n              columnNumber: 35\n            }, this), \" \", users.length, \" total\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 791,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\xC9tats de chargement:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 35\n            }, this), \" Images: \", uploadsLoading ? 'Oui' : 'Non', \", Utilisateurs: \", usersLoading ? 'Oui' : 'Non']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Filtrage des images:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 793,\n              columnNumber: 35\n            }, this), \" \", filteredUploads.length, \" sur \", uploads.filter(u => u.type === 'image').length, \" affich\\xE9es\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Pagination:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 794,\n              columnNumber: 35\n            }, this), \" Page \", currentPage, \" sur \", Math.ceil(filteredUploads.length / imagesPerPage)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Erreurs API:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 795,\n              columnNumber: 35\n            }, this), \" Images: \", apiErrors.uploads ? 'Oui' : 'Non', \", Utilisateurs: \", apiErrors.users ? 'Oui' : 'Non']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 795,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 780,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 776,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 402,\n    columnNumber: 5\n  }, this);\n};\n_s(ExerciseFormPage, \"/9DrVOOMiTyz4T9R8doRUTqPKmc=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ExerciseFormPage;\nexport default ExerciseFormPage;\nvar _c;\n$RefreshReg$(_c, \"ExerciseFormPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","FaArrowLeft","FaSave","FaUpload","FaImage","FaTrash","FaExclamationTriangle","FaInfoCircle","FaSearch","FaChevronLeft","FaChevronRight","FaDumbbell","FaSortAmountDownAlt","getExercise","createExercise","updateExercise","getUpload","createUpload","getUploads","getUsers","TextEditor","jsxDEV","_jsxDEV","Fragment","_Fragment","ExerciseFormPage","_s","id","navigate","isEditMode","formData","setFormData","title","description","exercise_level","exercise_category","upload_id","user_id","newImageFile","setNewImageFile","imagePreview","setImagePreview","currentImage","setCurrentImage","loading","setLoading","uploadsLoading","setUploadsLoading","usersLoading","setUsersLoading","saving","setSaving","error","setError","apiErrors","setApiErrors","uploads","users","setUploads","setUsers","imageSearchTerm","setImageSearchTerm","currentPage","setCurrentPage","imagesPerPage","filteredUploads","setFilteredUploads","exerciseLevels","exerciseCategories","fetchExercise","response","exerciseData","data","toString","imageResponse","imageError","console","err","_err$response","_err$response$data","message","fetchUploads","prev","log","sortedUploads","sort","a","b","Date","created_at","filter","u","type","filteredResults","upload","filename","toLowerCase","includes","fetchUsers","sortedUsers","nameA","username","email","nameB","localeCompare","handleChange","e","name","value","target","handleCategoryChange","category","handleFileChange","file","files","allowedTypes","maxSize","size","reader","FileReader","onloadend","result","readAsDataURL","handleRemoveImage","handleExistingImageSelect","uploadId","handleImageSearchChange","handleNextPage","totalPages","Math","ceil","length","handlePrevPage","getCurrentImages","indexOfLastImage","indexOfFirstImage","slice","handleSubmit","preventDefault","finalUploadId","imageFormData","FormData","append","uploadResponse","submitData","parseInt","_err$response2","_err$response2$data","logDebugState","count","firstUser","imagesCount","firstUpload","pagination","totalImages","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","role","onSubmit","htmlFor","onChange","required","map","level","style","maxWidth","src","alt","accept","url","maxHeight","placeholder","cursor","height","overflow","objectFit","onError","toLocaleDateString","disabled","user","first_name","last_name","process","env","NODE_ENV","_c","$RefreshReg$"],"sources":["/Users/mac/Downloads/APP_NS_V1/dev_projet/sauvegardegit/front/src/pages/admin/exercises/ExerciseFormPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { \n  FaArrowLeft, \n  FaSave, \n  FaUpload, \n  FaImage, \n  FaTrash,\n  FaExclamationTriangle,\n  FaInfoCircle,\n  FaSearch,\n  FaChevronLeft,\n  FaChevronRight,\n  FaDumbbell,\n  FaSortAmountDownAlt\n} from 'react-icons/fa';\nimport { getExercise, createExercise, updateExercise } from '../../../services/exercises';\nimport { getUpload, createUpload, getUploads } from '../../../services/uploads';\nimport { getUsers } from '../../../services/users';\nimport TextEditor from \"../../../components/ui/forms/TextEditor\";\nimport \"quill/dist/quill.snow.css\"; // Import du CSS pour TextEditor\n\n/**\n * ðŸ‡¬ðŸ‡§ Form page for creating and editing exercises\n * ðŸ‡«ðŸ‡· Page de formulaire pour crÃ©er et modifier des exercices\n */\nconst ExerciseFormPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const isEditMode = !!id;\n\n  // Form state\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    exercise_level: '',\n    exercise_category: '',\n    upload_id: '',\n    user_id: ''\n  });\n\n  // File upload state\n  const [newImageFile, setNewImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [currentImage, setCurrentImage] = useState(null);\n\n  // Status states\n  const [loading, setLoading] = useState(false);\n  const [uploadsLoading, setUploadsLoading] = useState(false);\n  const [usersLoading, setUsersLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [apiErrors, setApiErrors] = useState({\n    uploads: null,\n    users: null\n  });\n  const [uploads, setUploads] = useState([]);\n  const [users, setUsers] = useState([]);\n\n  /**\n   * ðŸ‡¬ðŸ‡§ New states for image search and pagination\n   * ðŸ‡«ðŸ‡· Nouveaux Ã©tats pour la recherche d'images et la pagination\n   */\n  const [imageSearchTerm, setImageSearchTerm] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [imagesPerPage] = useState(20);\n  const [filteredUploads, setFilteredUploads] = useState([]);\n\n  // Exercise levels and categories for dropdown options\n  const exerciseLevels = ['DÃ©butant', 'IntermÃ©diaire', 'AvancÃ©'];\n  const exerciseCategories = ['Correctif De Nage', 'Correctif De Style', 'Travail de Base'];\n\n  // Load exercise data if in edit mode\n  useEffect(() => {\n    const fetchExercise = async () => {\n      if (isEditMode) {\n        try {\n          setLoading(true);\n          const response = await getExercise(id);\n          const exerciseData = response.data;\n          \n          setFormData({\n            title: exerciseData.title || '',\n            description: exerciseData.description || '',\n            exercise_level: exerciseData.exercise_level || '',\n            exercise_category: exerciseData.exercise_category || '',\n            upload_id: exerciseData.upload_id ? exerciseData.upload_id.toString() : '',\n            user_id: exerciseData.user_id ? exerciseData.user_id.toString() : ''\n          });\n          \n          // Fetch current image if available\n          if (exerciseData.upload_id) {\n            try {\n              const imageResponse = await getUpload(exerciseData.upload_id);\n              setCurrentImage(imageResponse.data);\n            } catch (imageError) {\n              console.error('Erreur lors du chargement de l\\'image:', imageError);\n            }\n          }\n          \n          setError(null);\n        } catch (err) {\n          console.error('Erreur lors du chargement de l\\'exercice:', err);\n          setError(`Erreur lors du chargement de l'exercice: ${err.response?.data?.message || err.message}`);\n        } finally {\n          setLoading(false);\n        }\n      }\n    };\n\n    fetchExercise();\n  }, [id, isEditMode]);\n\n  // Load uploads\n  useEffect(() => {\n    const fetchUploads = async () => {\n      try {\n        setUploadsLoading(true);\n        setApiErrors(prev => ({ ...prev, uploads: null }));\n        \n        // Utiliser le service API au lieu de fetch direct\n        const response = await getUploads();\n        \n        console.log('Uploads rÃ©cupÃ©rÃ©s:', response.data);\n        \n        /**\n         * ðŸ‡¬ðŸ‡§ Sort uploads by creation date (newest first) instead of by filename\n         * ðŸ‡«ðŸ‡· Trier les uploads par date de crÃ©ation (les plus rÃ©cents d'abord) au lieu du nom de fichier\n         */\n        const sortedUploads = response.data.sort((a, b) => \n          new Date(b.created_at) - new Date(a.created_at)\n        );\n\n        setUploads(sortedUploads);\n        \n        /**\n         * ðŸ‡¬ðŸ‡§ Initialize filtered uploads with only image type uploads\n         * ðŸ‡«ðŸ‡· Initialiser les uploads filtrÃ©s avec uniquement les uploads de type image\n         */\n        setFilteredUploads(sortedUploads.filter(u => u.type === 'image'));\n      } catch (err) {\n        console.error(\"Erreur lors du chargement des images:\", err);\n        setApiErrors(prev => ({ \n          ...prev, \n          uploads: `Erreur lors du chargement des images: ${err.message}` \n        }));\n      } finally {\n        setUploadsLoading(false);\n      }\n    };\n\n    fetchUploads();\n  }, []);\n\n  /**\n   * ðŸ‡¬ðŸ‡§ Effect for filtering uploads based on search term\n   * ðŸ‡«ðŸ‡· Effet pour filtrer les uploads en fonction du terme de recherche\n   */\n  useEffect(() => {\n    // Reset to first page when search term changes\n    setCurrentPage(1);\n    \n    // Filter uploads based on search term and image type\n    const filteredResults = uploads\n      .filter(upload => \n        upload.type === 'image' && \n        upload.filename.toLowerCase().includes(imageSearchTerm.toLowerCase())\n      );\n    \n    setFilteredUploads(filteredResults);\n  }, [imageSearchTerm, uploads]);\n\n  // Load users\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        setUsersLoading(true);\n        setApiErrors(prev => ({ ...prev, users: null }));\n        \n        // Utiliser le service API au lieu de fetch direct\n        const response = await getUsers();\n        \n        console.log('Utilisateurs rÃ©cupÃ©rÃ©s:', response.data);\n        \n        // Trier les utilisateurs par nom d'utilisateur\n        const sortedUsers = response.data.sort((a, b) => {\n          const nameA = a.username || a.email || '';\n          const nameB = b.username || b.email || '';\n          return nameA.localeCompare(nameB);\n        });\n\n        setUsers(sortedUsers);\n      } catch (err) {\n        console.error(\"Erreur lors du chargement des utilisateurs:\", err);\n        setApiErrors(prev => ({ \n          ...prev, \n          users: `Erreur lors du chargement des utilisateurs: ${err.message}` \n        }));\n      } finally {\n        setUsersLoading(false);\n      }\n    };\n\n    fetchUsers();\n  }, []);\n\n  // Handle form input changes\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Handle category selection\n  const handleCategoryChange = (category) => {\n    setFormData(prev => ({\n      ...prev,\n      exercise_category: prev.exercise_category === category ? '' : category\n    }));\n  };\n\n  // Handle file selection\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Validate file type\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];\n    if (!allowedTypes.includes(file.type)) {\n      setError('Type de fichier non supportÃ©. Utilisez JPG, PNG ou GIF.');\n      return;\n    }\n\n    // Validate file size (max 2MB)\n    const maxSize = 2 * 1024 * 1024; // 2MB\n    if (file.size > maxSize) {\n      setError('L\\'image est trop volumineuse. Taille maximum: 2MB');\n      return;\n    }\n\n    setNewImageFile(file);\n    \n    // Create image preview\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setImagePreview(reader.result);\n    };\n    reader.readAsDataURL(file);\n    \n    // Reset any existing upload_id\n    setFormData(prev => ({\n      ...prev,\n      upload_id: ''\n    }));\n    \n    // Clear any errors\n    setError(null);\n  };\n\n  // Handle image removal\n  const handleRemoveImage = () => {\n    setNewImageFile(null);\n    setImagePreview(null);\n    setFormData(prev => ({\n      ...prev,\n      upload_id: ''\n    }));\n  };\n\n  // Handle existing image selection\n  const handleExistingImageSelect = (uploadId) => {\n    setFormData(prev => ({\n      ...prev,\n      upload_id: uploadId\n    }));\n    setNewImageFile(null);\n    setImagePreview(null);\n  };\n\n  /**\n   * ðŸ‡¬ðŸ‡§ Handle image search input change\n   * ðŸ‡«ðŸ‡· GÃ©rer le changement dans le champ de recherche d'images\n   */\n  const handleImageSearchChange = (e) => {\n    setImageSearchTerm(e.target.value);\n  };\n\n  /**\n   * ðŸ‡¬ðŸ‡§ Handle pagination - go to next page\n   * ðŸ‡«ðŸ‡· GÃ©rer la pagination - aller Ã  la page suivante\n   */\n  const handleNextPage = () => {\n    const totalPages = Math.ceil(filteredUploads.length / imagesPerPage);\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  /**\n   * ðŸ‡¬ðŸ‡§ Handle pagination - go to previous page\n   * ðŸ‡«ðŸ‡· GÃ©rer la pagination - aller Ã  la page prÃ©cÃ©dente\n   */\n  const handlePrevPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  /**\n   * ðŸ‡¬ðŸ‡§ Get current images to display based on pagination\n   * ðŸ‡«ðŸ‡· Obtenir les images actuelles Ã  afficher en fonction de la pagination\n   */\n  const getCurrentImages = () => {\n    const indexOfLastImage = currentPage * imagesPerPage;\n    const indexOfFirstImage = indexOfLastImage - imagesPerPage;\n    return filteredUploads.slice(indexOfFirstImage, indexOfLastImage);\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Validation\n    if (!formData.title || !formData.user_id) {\n      setError('Veuillez remplir tous les champs obligatoires');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      setError(null);\n\n      // Upload new image if provided\n      let finalUploadId = formData.upload_id;\n      \n      if (newImageFile) {\n        const imageFormData = new FormData();\n        imageFormData.append('filename', newImageFile.name);\n        imageFormData.append('file', newImageFile);\n        imageFormData.append('type', 'image');\n        imageFormData.append('user_id', formData.user_id);\n        \n        const uploadResponse = await createUpload(imageFormData);\n        finalUploadId = uploadResponse.data.id.toString();\n      }\n\n      // PrÃ©parer les donnÃ©es Ã  envoyer\n      const submitData = {\n        title: formData.title,\n        description: formData.description,\n        exercise_level: formData.exercise_level || null,\n        exercise_category: formData.exercise_category || null,\n        upload_id: finalUploadId ? parseInt(finalUploadId) : null,\n        user_id: parseInt(formData.user_id)\n      };\n\n      if (isEditMode) {\n        await updateExercise(id, submitData);\n      } else {\n        await createExercise(submitData);\n      }\n\n      // Rediriger vers la liste des exercices\n      navigate('/admin/exercises');\n    } catch (err) {\n      console.error('Erreur lors de la sauvegarde:', err);\n      setError(`Erreur lors de l'enregistrement: ${err.response?.data?.message || err.message}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Fonction pour dÃ©boguer l'Ã©tat actuel des composants principaux\n  const logDebugState = () => {\n    console.log('Ã‰tat actuel:', {\n      users: {\n        count: users.length,\n        firstUser: users[0],\n        loading: usersLoading,\n        error: apiErrors.users\n      },\n      uploads: {\n        count: uploads.length,\n        imagesCount: uploads.filter(u => u.type === 'image').length,\n        firstUpload: uploads[0],\n        loading: uploadsLoading,\n        error: apiErrors.uploads\n      },\n      formData,\n      pagination: {\n        currentPage,\n        imagesPerPage,\n        totalImages: filteredUploads.length,\n        totalPages: Math.ceil(filteredUploads.length / imagesPerPage)\n      }\n    });\n  };\n\n  return (\n    <div className=\"container py-4\">\n      {/* Titre Section */}\n               <div className=\"row mb-4\">\n                       <div className=\"col-12\">\n                         <div className=\"card border-0 shadow-sm\">\n                           <div className=\"card-header bg-primary-subtle\">\n                             <h2 className=\"card-title mb-0\">\n                               <FaDumbbell className=\"me-2\" />\n                               CrÃ©er un nouvel exercice\n                             </h2>\n                           </div>\n                         </div>\n                       </div>\n                     </div>\n      <button \n        className=\"btn btn-success btn-lg d-flex align-items-center\" \n        onClick={() => navigate('/admin/exercises')}\n      >\n        <FaArrowLeft className=\"me-2\" /> Retour Ã  la liste\n      </button>\n\n      <div className=\"card shadow\">\n        <div className=\"card-header bg-white\">\n          <h5 className=\"card-title mb-0\">\n            {isEditMode ? \"Modifier l'exercice\" : \"CrÃ©er un nouvel exercice\"}\n          </h5>\n        </div>\n\n        <div className=\"card-body\">\n          {loading ? (\n            <div className=\"text-center py-5\">\n              <div className=\"spinner-border text-primary\" role=\"status\">\n                <span className=\"visually-hidden\">Chargement...</span>\n              </div>\n            </div>\n          ) : (\n            <form onSubmit={handleSubmit}>\n              {error && (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  <FaExclamationTriangle className=\"me-2\" />\n                  {error}\n                </div>\n              )}\n\n              <div className=\"mb-3\">\n                <label htmlFor=\"title\" className=\"form-label\">Titre <span className=\"text-danger\">*</span></label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"title\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleChange}\n                  required\n                />\n              </div>\n\n              <div className=\"mb-3\">\n                <label className=\"form-label\">Description</label>\n                <TextEditor\n                  value={formData.description} \n                  onChange={(value) => setFormData((prev) => ({ ...prev, description: value }))} \n                />\n              </div>\n\n              {/* Niveau - Menu dÃ©roulant */}\n              <div className=\"mb-3\">\n                <label htmlFor=\"exercise_level\" className=\"form-label\">Niveau</label>\n                <select\n                  className=\"form-select\"\n                  id=\"exercise_level\"\n                  name=\"exercise_level\"\n                  value={formData.exercise_level}\n                  onChange={handleChange}\n                >\n                  <option value=\"\">SÃ©lectionner un niveau</option>\n                  {exerciseLevels.map((level) => (\n                    <option key={level} value={level}>\n                      {level}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* CatÃ©gorie - Boutons Ã  cocher */}\n              <div className=\"mb-4\">\n                <label className=\"form-label d-block\">CatÃ©gorie</label>\n                <div className=\"d-flex flex-wrap gap-2\">\n                  {exerciseCategories.map((category) => (\n                    <button\n                      key={category}\n                      type=\"button\"\n                      className={`btn ${formData.exercise_category === category ? 'btn-primary' : 'btn-outline-primary'}`}\n                      onClick={() => handleCategoryChange(category)}\n                    >\n                      {category}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Image - Upload et sÃ©lection */}\n              <div className=\"mb-4\">\n                <label className=\"form-label\">Image</label>\n                \n                {/* Upload de nouvelle image */}\n                <div className=\"card mb-3\">\n                  <div className=\"card-body\">\n                    <h6 className=\"card-subtitle mb-3\">TÃ©lÃ©charger une nouvelle image</h6>\n                    \n                    {imagePreview ? (\n                      <div className=\"mb-3\">\n                        <div className=\"position-relative mb-2\" style={{ maxWidth: '300px' }}>\n                          <img \n                            src={imagePreview} \n                            alt=\"AperÃ§u\" \n                            className=\"img-fluid rounded\"\n                          />\n                          <button \n                            type=\"button\"\n                            className=\"btn btn-sm btn-danger position-absolute top-0 end-0 m-2\"\n                            onClick={handleRemoveImage}\n                            title=\"Supprimer l'image\"\n                          >\n                            <FaTrash />\n                          </button>\n                        </div>\n                        <small className=\"text-muted\">\n                          Fichier sÃ©lectionnÃ©: {newImageFile?.name}\n                        </small>\n                      </div>\n                    ) : (\n                      <div className=\"mb-3\">\n                        <label className=\"btn btn-outline-primary\">\n                          <FaUpload className=\"me-2\" /> SÃ©lectionner une image\n                          <input \n                            type=\"file\"\n                            accept=\"image/*\"\n                            onChange={handleFileChange}\n                            className=\"d-none\"\n                          />\n                        </label>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                \n                {/* SÃ©lection d'une image existante */}\n                <div className=\"card mb-3\">\n                  <div className=\"card-header bg-light\">\n                    <h6 className=\"card-subtitle mb-0\">\n                      Ou sÃ©lectionner une image existante\n                      {formData.upload_id && !newImageFile && (\n                        <span className=\"text-success ms-2\">\n                          (Image sÃ©lectionnÃ©e)\n                        </span>\n                      )}\n                    </h6>\n                  </div>\n                  <div className=\"card-body\">\n                    {/* Message de chargement des images */}\n                    {uploadsLoading && (\n                      <div className=\"d-flex align-items-center mb-3\">\n                        <div className=\"spinner-border spinner-border-sm text-primary me-2\" role=\"status\">\n                          <span className=\"visually-hidden\">Chargement...</span>\n                        </div>\n                        <span>Chargement des images disponibles...</span>\n                      </div>\n                    )}\n                    \n                    {/* Erreur de chargement des images */}\n                    {apiErrors.uploads && (\n                      <div className=\"alert alert-warning\" role=\"alert\">\n                        <FaExclamationTriangle className=\"me-2\" />\n                        {apiErrors.uploads}\n                      </div>\n                    )}\n                    \n                    {/* Image actuelle (si en mode Ã©dition) */}\n                    {isEditMode && currentImage && formData.upload_id && (\n                      <div className=\"mb-4\">\n                        <h6 className=\"mb-2\">Image actuelle:</h6>\n                        <div className=\"d-flex align-items-center\">\n                          <img \n                            src={currentImage.url} \n                            alt={currentImage.filename}\n                            className=\"img-thumbnail me-3\"\n                            style={{ maxWidth: '100px', maxHeight: '100px' }}\n                          />\n                          <div>\n                            <p className=\"mb-1\">{currentImage.filename}</p>\n                            <button\n                              type=\"button\"\n                              className=\"btn btn-sm btn-outline-danger\"\n                              onClick={() => setFormData(prev => ({ ...prev, upload_id: '' }))}\n                            >\n                              Retirer\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                    \n                    {/* Recherche d'images */}\n                    {!uploadsLoading && !apiErrors.uploads && (\n                      <div className=\"mb-3\">\n                        <div className=\"input-group\">\n                          <span className=\"input-group-text\" id=\"image-search\">\n                            <FaSearch />\n                          </span>\n                          <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Rechercher une image par nom...\"\n                            value={imageSearchTerm}\n                            onChange={handleImageSearchChange}\n                            aria-label=\"Rechercher une image\"\n                            aria-describedby=\"image-search\"\n                          />\n                        </div>\n                        <div className=\"d-flex align-items-center mt-2\">\n                          <small className=\"text-muted\">\n                            <FaSortAmountDownAlt className=\"me-1\" /> \n                            Les plus rÃ©centes en premier â€¢ \n                            {filteredUploads.length} image{filteredUploads.length !== 1 ? 's' : ''} disponible{filteredUploads.length !== 1 ? 's' : ''}\n                          </small>\n                        </div>\n                      </div>\n                    )}\n                    \n                    {/* Liste des images disponibles */}\n                    {!uploadsLoading && !apiErrors.uploads && (\n                      <>\n                        {filteredUploads.length > 0 ? (\n                          <>\n                            <div className=\"row row-cols-2 row-cols-md-3 row-cols-lg-4 g-3\">\n                              {getCurrentImages().map((upload) => (\n                                <div key={upload.id} className=\"col\">\n                                  <div \n                                    className={`card h-100 ${formData.upload_id === upload.id.toString() ? 'border-primary' : ''}`}\n                                    onClick={() => handleExistingImageSelect(upload.id.toString())}\n                                    style={{ cursor: 'pointer' }}\n                                  >\n                                    <div className=\"card-img-top\" style={{ height: '120px', overflow: 'hidden' }}>\n                                      <img \n                                        src={upload.url}\n                                        alt={upload.filename}\n                                        className=\"img-fluid w-100 h-100\"\n                                        style={{ objectFit: 'cover' }}\n                                        onError={(e) => e.target.src = 'https://placehold.co/100x100?text=Error'}\n                                      />\n                                    </div>\n                                    <div className=\"card-body p-2\">\n                                      <p className=\"card-text small text-truncate mb-0\" title={upload.filename}>\n                                        {upload.filename}\n                                      </p>\n                                      <small className=\"text-muted\">\n                                        {new Date(upload.created_at).toLocaleDateString()}\n                                      </small>\n                                    </div>\n                                  </div>\n                                </div>\n                              ))}\n                            </div>\n                            \n                            {/* Pagination */}\n                            {filteredUploads.length > imagesPerPage && (\n                              <div className=\"d-flex justify-content-between align-items-center mt-4\">\n                                <button\n                                  type=\"button\"\n                                  className=\"btn btn-sm btn-outline-secondary\"\n                                  onClick={handlePrevPage}\n                                  disabled={currentPage === 1}\n                                >\n                                  <FaChevronLeft className=\"me-1\" /> PrÃ©cÃ©dent\n                                </button>\n                                \n                                <div className=\"px-3\">\n                                  <span className=\"text-muted\">\n                                    Page {currentPage} sur {Math.ceil(filteredUploads.length / imagesPerPage)}\n                                  </span>\n                                </div>\n                                \n                                <button\n                                  type=\"button\"\n                                  className=\"btn btn-sm btn-outline-secondary\"\n                                  onClick={handleNextPage}\n                                  disabled={currentPage >= Math.ceil(filteredUploads.length / imagesPerPage)}\n                                >\n                                  Suivant <FaChevronRight className=\"ms-1\" />\n                                </button>\n                              </div>\n                            )}\n                          </>\n                        ) : (\n                          <div className=\"alert alert-info\" role=\"alert\">\n                            <FaInfoCircle className=\"me-2\" />\n                            {imageSearchTerm ? \n                              `Aucune image trouvÃ©e pour \"${imageSearchTerm}\".` : \n                              'Aucune image disponible. Veuillez tÃ©lÃ©charger une nouvelle image.'}\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mb-4\">\n                <label htmlFor=\"user_id\" className=\"form-label\">CrÃ©Ã© par <span className=\"text-danger\">*</span></label>\n                \n                {/* Message de chargement des utilisateurs */}\n                {usersLoading && (\n                  <div className=\"d-flex align-items-center mb-3\">\n                    <div className=\"spinner-border spinner-border-sm text-primary me-2\" role=\"status\">\n                      <span className=\"visually-hidden\">Chargement...</span>\n                    </div>\n                    <span>Chargement des utilisateurs...</span>\n                  </div>\n                )}\n                \n                {/* Erreur de chargement des utilisateurs */}\n                {apiErrors.users && (\n                  <div className=\"alert alert-warning\" role=\"alert\">\n                    <FaExclamationTriangle className=\"me-2\" />\n                    {apiErrors.users}\n                  </div>\n                )}\n                \n                <select\n                  className=\"form-select\"\n                  id=\"user_id\"\n                  name=\"user_id\"\n                  value={formData.user_id}\n                  onChange={handleChange}\n                  required\n                  disabled={usersLoading}\n                >\n                  <option value=\"\">SÃ©lectionner un crÃ©ateur</option>\n                  {users.map((user) => (\n                    <option key={user.id} value={user.id}>\n                      {user.first_name && user.last_name \n                        ? `${user.first_name} ${user.last_name} (${user.username || user.email})` \n                        : user.username || user.email || `Utilisateur #${user.id}`}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"text-end\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                  disabled={saving}\n                >\n                  {saving ? (\n                    <>\n                      <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                      Enregistrement...\n                    </>\n                  ) : (\n                    <>\n                      <FaSave className=\"me-2\" /> Enregistrer\n                    </>\n                  )}\n                </button>\n              </div>\n            </form>\n          )}\n        </div>\n      </div>\n      \n      {/* Section de dÃ©bogage (visible seulement en mode dev) */}\n      {process.env.NODE_ENV === 'development' && (\n        <div className=\"card mt-4\">\n          <div className=\"card-header bg-light\">\n            <h6 className=\"mb-0\">Informations de dÃ©bogage</h6>\n          </div>\n          <div className=\"card-body\">\n            <button \n              type=\"button\" \n              className=\"btn btn-sm btn-outline-secondary me-2\"\n              onClick={logDebugState}\n            >\n              Logger l'Ã©tat actuel dans la console\n            </button>\n            \n            <div className=\"mt-3\">\n              <p className=\"mb-1\"><strong>Images:</strong> {uploads.length} total, {uploads.filter(u => u.type === 'image').length} images</p>\n              <p className=\"mb-1\"><strong>Utilisateurs:</strong> {users.length} total</p>\n              <p className=\"mb-1\"><strong>Ã‰tats de chargement:</strong> Images: {uploadsLoading ? 'Oui' : 'Non'}, Utilisateurs: {usersLoading ? 'Oui' : 'Non'}</p>\n              <p className=\"mb-1\"><strong>Filtrage des images:</strong> {filteredUploads.length} sur {uploads.filter(u => u.type === 'image').length} affichÃ©es</p>\n              <p className=\"mb-1\"><strong>Pagination:</strong> Page {currentPage} sur {Math.ceil(filteredUploads.length / imagesPerPage)}</p>\n              <p className=\"mb-0\"><strong>Erreurs API:</strong> Images: {apiErrors.uploads ? 'Oui' : 'Non'}, Utilisateurs: {apiErrors.users ? 'Oui' : 'Non'}</p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ExerciseFormPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}