{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Downloads/APP_NS_V1/dev_projet/sauvegardegit/front/src/pages/user/workouts/UserCreateWorkoutPage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/user/workouts/UserCreateWorkoutPage.jsx\n// ages accessibles après connexion\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaArrowLeft, FaSave, FaSwimmer, FaInfoCircle } from \"react-icons/fa\";\nimport Footer from \"../../../components/template/Footer\";\nimport { createWorkout } from \"../../../services/workouts\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserCreateWorkoutPage = () => {\n  _s();\n  const navigate = useNavigate();\n\n  // Form state\n  const [formData, setFormData] = useState({\n    title: \"\",\n    description: \"\",\n    workout_category: \"\",\n    user_id: \"\"\n  });\n\n  // UI states\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [currentStep, setCurrentStep] = useState(1);\n\n  // Workout categories\n  const workoutCategories = [\"Aero 1\", \"Vitesse\", \"Mixte\", \"Technique\", \"Récupération\"];\n\n  // Get current user ID (in a real app, this would come from auth context)\n  useEffect(() => {\n    // Temporary: set a default user ID\n    setFormData(prev => ({\n      ...prev,\n      user_id: \"1\" // This should come from auth context in a real app\n    }));\n  }, []);\n\n  // Handle form input changes\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Validate current step\n  const validateStep = step => {\n    switch (step) {\n      case 1:\n        if (!formData.title) {\n          setError(\"Le titre est requis\");\n          return false;\n        }\n        if (!formData.workout_category) {\n          setError(\"La catégorie est requise\");\n          return false;\n        }\n        break;\n      // Add validation for other steps if needed\n      default:\n        break;\n    }\n    setError(null);\n    return true;\n  };\n\n  // Handle next step\n  const handleNextStep = () => {\n    if (validateStep(currentStep)) {\n      setCurrentStep(prev => prev + 1);\n    }\n  };\n\n  // Handle previous step\n  const handlePrevStep = () => {\n    setCurrentStep(prev => prev - 1);\n  };\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateStep(currentStep)) {\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await createWorkout(formData);\n\n      // Redirect to the new workout's detail page\n      navigate(`/user/workouts/${response.data.id}`);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error creating workout:\", err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Une erreur est survenue lors de la création de la séance\");\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card shadow-sm mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"h2 mb-0\",\n                children: \"Cr\\xE9ation d'Une Nouvelle S\\xE9ance d'Entra\\xEEnement\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"h5 mb-3\",\n                children: \"en cours de cr\\xE9ation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-info\",\n                children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this), \"Disponibles bient\\xF4t en V2.0.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(UserCreateWorkoutPage, \"FYCW31BeZSHwXelnlQnPyAtfp6k=\", false, function () {\n  return [useNavigate];\n});\n_c = UserCreateWorkoutPage;\nexport default UserCreateWorkoutPage;\nvar _c;\n$RefreshReg$(_c, \"UserCreateWorkoutPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","FaArrowLeft","FaSave","FaSwimmer","FaInfoCircle","Footer","createWorkout","jsxDEV","_jsxDEV","Fragment","_Fragment","UserCreateWorkoutPage","_s","navigate","formData","setFormData","title","description","workout_category","user_id","loading","setLoading","error","setError","currentStep","setCurrentStep","workoutCategories","prev","handleChange","e","name","value","target","validateStep","step","handleNextStep","handlePrevStep","handleSubmit","preventDefault","response","data","id","err","_err$response","_err$response$data","console","message","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mac/Downloads/APP_NS_V1/dev_projet/sauvegardegit/front/src/pages/user/workouts/UserCreateWorkoutPage.jsx"],"sourcesContent":["// src/pages/user/workouts/UserCreateWorkoutPage.jsx\n// ages accessibles après connexion\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaArrowLeft, FaSave, FaSwimmer, FaInfoCircle } from \"react-icons/fa\";\nimport Footer from \"../../../components/template/Footer\";\nimport { createWorkout } from \"../../../services/workouts\";\n\nconst UserCreateWorkoutPage = () => {\n  const navigate = useNavigate();\n\n  // Form state\n  const [formData, setFormData] = useState({\n    title: \"\",\n    description: \"\",\n    workout_category: \"\",\n    user_id: \"\",\n  });\n\n  // UI states\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [currentStep, setCurrentStep] = useState(1);\n\n  // Workout categories\n  const workoutCategories = [\n    \"Aero 1\",\n    \"Vitesse\",\n    \"Mixte\",\n    \"Technique\",\n    \"Récupération\",\n  ];\n\n  // Get current user ID (in a real app, this would come from auth context)\n  useEffect(() => {\n    // Temporary: set a default user ID\n    setFormData((prev) => ({\n      ...prev,\n      user_id: \"1\", // This should come from auth context in a real app\n    }));\n  }, []);\n\n  // Handle form input changes\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  // Validate current step\n  const validateStep = (step) => {\n    switch (step) {\n      case 1:\n        if (!formData.title) {\n          setError(\"Le titre est requis\");\n          return false;\n        }\n        if (!formData.workout_category) {\n          setError(\"La catégorie est requise\");\n          return false;\n        }\n        break;\n      // Add validation for other steps if needed\n      default:\n        break;\n    }\n    setError(null);\n    return true;\n  };\n\n  // Handle next step\n  const handleNextStep = () => {\n    if (validateStep(currentStep)) {\n      setCurrentStep((prev) => prev + 1);\n    }\n  };\n\n  // Handle previous step\n  const handlePrevStep = () => {\n    setCurrentStep((prev) => prev - 1);\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!validateStep(currentStep)) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = await createWorkout(formData);\n\n      // Redirect to the new workout's detail page\n      navigate(`/user/workouts/${response.data.id}`);\n    } catch (err) {\n      console.error(\"Error creating workout:\", err);\n      setError(\n        err.response?.data?.message ||\n          \"Une erreur est survenue lors de la création de la séance\"\n      );\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <main className=\"container py-5\">\n        {/* Header */}\n        <div className=\"d-flex justify-content-between align-items-center mb-4\">\n          <div className=\"d-flex align-items-center\">\n            <div className=\"card shadow-sm mb-4\">\n              <div className=\"card-body\">\n                <h1 className=\"h2 mb-0\">\n                  Création d'Une Nouvelle Séance d'Entraînement\n                </h1>\n\n                <h3 className=\"h5 mb-3\">en cours de création</h3>\n                <div className=\"alert alert-info\">\n                  <FaInfoCircle className=\"me-2\" />\n                  Disponibles bientôt en V2.0.\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </>\n  );\n};\n\nexport default UserCreateWorkoutPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}