{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Downloads/APP_NS_V1/dev_projet/sauvegardegit/front/src/pages/admin/pages/PageFormPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FaArrowLeft, FaSave, FaUpload, FaImage, FaTrash } from 'react-icons/fa';\nimport { getPage, createPage, updatePage } from '../../../services/pages';\nimport { getUpload, createUpload, getUploads } from '../../../services/uploads';\nimport { getUsers } from '../../../services/users';\nimport \"quill/dist/quill.snow.css\"; // Import du CSS\nimport TextEditor from \"../../../components/ui/forms/TextEditor\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PageFormPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const isEditMode = !!id;\n\n  // Form state\n  const [formData, setFormData] = useState({\n    title: '',\n    content: '',\n    page_category: '',\n    upload_id: '',\n    user_id: ''\n  });\n\n  // File upload state\n  const [newImageFile, setNewImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [currentImage, setCurrentImage] = useState(null);\n\n  // Status states\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [uploads, setUploads] = useState([]);\n  const [users, setUsers] = useState([]);\n\n  // Pagination state\n  const [currentPage, setCurrentPage] = useState(1);\n  const imagesPerPage = 12;\n\n  // Page categories\n  const pageCategories = ['Information', 'Conseils', 'R√®gles', 'Foire aux questions'];\n\n  /**\n   * üá¨üáß Load page data if in edit mode\n   * üá´üá∑ Charger les donn√©es de la page si en mode √©dition\n   */\n  useEffect(() => {\n    const fetchPage = async () => {\n      if (isEditMode) {\n        try {\n          setLoading(true);\n          const response = await getPage(id);\n          const pageData = response.data;\n          setFormData({\n            title: pageData.title || '',\n            content: pageData.content || '',\n            page_category: pageData.page_category || '',\n            upload_id: pageData.upload_id ? pageData.upload_id.toString() : '',\n            user_id: pageData.user_id ? pageData.user_id.toString() : ''\n          });\n\n          // Fetch current image if available\n          if (pageData.upload_id) {\n            try {\n              const imageResponse = await getUpload(pageData.upload_id);\n              setCurrentImage(imageResponse.data);\n            } catch (imageError) {\n              console.error('Erreur lors du chargement de l\\'image:', imageError);\n            }\n          }\n          setLoading(false);\n        } catch (err) {\n          var _err$response, _err$response$data;\n          console.error('Erreur lors du chargement de la page:', err);\n          setError(`Erreur lors du chargement de la page: ${((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message}`);\n          setLoading(false);\n        }\n      }\n    };\n    fetchPage();\n  }, [id, isEditMode]);\n\n  /**\n   * üá¨üáß Load uploads and users\n   * üá´üá∑ Charger les uploads et les utilisateurs\n   */\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        console.log('Chargement des donn√©es...');\n\n        // Utiliser les services pour r√©cup√©rer les donn√©es\n        const [uploadsResponse, usersResponse] = await Promise.all([getUploads(), getUsers()]);\n        console.log('Donn√©es uploads:', uploadsResponse.data);\n        console.log('Donn√©es users:', usersResponse.data);\n\n        // V√©rifier que les donn√©es sont un tableau\n        const uploadsData = Array.isArray(uploadsResponse.data) ? uploadsResponse.data : [];\n        const usersData = Array.isArray(usersResponse.data) ? usersResponse.data : [];\n\n        // Trier les uploads par nom de fichier\n        const sortedUploads = uploadsData.sort((a, b) => {\n          const filenameA = (a === null || a === void 0 ? void 0 : a.filename) || '';\n          const filenameB = (b === null || b === void 0 ? void 0 : b.filename) || '';\n          return filenameA.localeCompare(filenameB);\n        });\n        setUploads(sortedUploads);\n        setUsers(usersData);\n        setLoading(false);\n      } catch (err) {\n        var _err$response2, _err$response3, _err$response3$data;\n        console.error(\"Erreur lors du chargement des donn√©es d√©taill√©e:\", err);\n        console.error(\"R√©ponse d'erreur:\", err.response);\n        console.error(\"Donn√©es d'erreur:\", (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data);\n        setError(\"Erreur lors du chargement des donn√©es: \" + (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || err.message));\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  /**\n   * üá¨üáß Handle form input changes\n   * üá´üá∑ G√©rer les changements dans les champs du formulaire\n   */\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    console.log(`Changement ${name}: ${value}`);\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  /**\n   * üá¨üáß Handle category selection\n   * üá´üá∑ G√©rer la s√©lection de cat√©gorie\n   */\n  const handleCategoryChange = category => {\n    setFormData(prev => ({\n      ...prev,\n      page_category: prev.page_category === category ? '' : category\n    }));\n  };\n\n  /**\n   * üá¨üáß Handle file selection\n   * üá´üá∑ G√©rer la s√©lection de fichier\n   */\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Validate file type\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];\n    if (!allowedTypes.includes(file.type)) {\n      setError('Type de fichier non support√©. Utilisez JPG, PNG ou GIF.');\n      return;\n    }\n\n    // Validate file size (max 2MB)\n    const maxSize = 2 * 1024 * 1024; // 2MB\n    if (file.size > maxSize) {\n      setError('L\\'image est trop volumineuse. Taille maximum: 2MB');\n      return;\n    }\n    setNewImageFile(file);\n\n    // Create image preview\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setImagePreview(reader.result);\n    };\n    reader.readAsDataURL(file);\n\n    // Reset any existing upload_id\n    setFormData(prev => ({\n      ...prev,\n      upload_id: ''\n    }));\n\n    // Clear any errors\n    setError(null);\n  };\n\n  /**\n   * üá¨üáß Handle image removal\n   * üá´üá∑ G√©rer la suppression d'image\n   */\n  const handleRemoveImage = () => {\n    setNewImageFile(null);\n    setImagePreview(null);\n    setFormData(prev => ({\n      ...prev,\n      upload_id: ''\n    }));\n  };\n\n  /**\n   * üá¨üáß Handle existing image selection\n   * üá´üá∑ G√©rer la s√©lection d'une image existante\n   */\n  const handleExistingImageSelect = uploadId => {\n    console.log('Image s√©lectionn√©e:', uploadId);\n    setFormData(prev => ({\n      ...prev,\n      upload_id: uploadId.toString()\n    }));\n    setNewImageFile(null);\n    setImagePreview(null);\n  };\n\n  /**\n   * üá¨üáß Handle form submission\n   * üá´üá∑ G√©rer la soumission du formulaire\n   */\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Validation\n    if (!formData.title || !formData.content) {\n      setError('Veuillez remplir tous les champs obligatoires');\n      return;\n    }\n    try {\n      setSaving(true);\n      setError(null);\n      console.log('Donn√©es du formulaire avant envoi:', formData);\n\n      // Upload new image if provided\n      let finalUploadId = formData.upload_id;\n      if (newImageFile) {\n        console.log('Upload d\\'une nouvelle image...');\n        const imageFormData = new FormData();\n        imageFormData.append('filename', newImageFile.name);\n        imageFormData.append('file', newImageFile);\n        imageFormData.append('type', 'image');\n\n        // Utiliser l'ID de l'utilisateur actuel si disponible, sinon utiliser l'ID s√©lectionn√©\n        const currentUserId = localStorage.getItem('user_id') || formData.user_id;\n        if (currentUserId) {\n          imageFormData.append('user_id', currentUserId);\n        }\n        const uploadResponse = await createUpload(imageFormData);\n        console.log('R√©ponse upload:', uploadResponse.data);\n        finalUploadId = uploadResponse.data.id.toString();\n      }\n\n      // Pr√©parer les donn√©es √† envoyer\n      const submitData = {\n        title: formData.title,\n        content: formData.content,\n        page_category: formData.page_category || null,\n        upload_id: finalUploadId ? parseInt(finalUploadId) : null,\n        user_id: parseInt(formData.user_id) || parseInt(localStorage.getItem('user_id') || '1')\n      };\n      console.log('Donn√©es finales √† envoyer:', submitData);\n      if (isEditMode) {\n        await updatePage(id, submitData);\n        console.log('Page mise √† jour avec succ√®s');\n      } else {\n        await createPage(submitData);\n        console.log('Page cr√©√©e avec succ√®s');\n      }\n\n      // Rediriger vers la liste des pages\n      navigate('/admin/pages');\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      console.error('Erreur lors de la sauvegarde:', err);\n      setError(`Erreur lors de l'enregistrement: ${((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || err.message}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-outline-primary mb-4\",\n      onClick: () => navigate('/admin/pages'),\n      children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n        className: \"me-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), \" Retour \\xE0 la liste\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title mb-0\",\n          children: isEditMode ? \"Modifier la page\" : \"Cr√©er une nouvelle page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-border text-primary\",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Chargement...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger\",\n            role: \"alert\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              className: \"form-label\",\n              children: \"Titre *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"title\",\n              name: \"title\",\n              value: formData.title,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Contenu *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextEditor, {\n              value: formData.content,\n              onChange: value => {\n                console.log('Contenu chang√©');\n                setFormData(prev => ({\n                  ...prev,\n                  content: value\n                }));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label d-block\",\n              children: \"Cat\\xE9gorie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex flex-wrap gap-2\",\n              children: pageCategories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `btn ${formData.page_category === category ? 'btn-primary' : 'btn-outline-primary'}`,\n                onClick: () => handleCategoryChange(category),\n                children: category\n              }, category, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Image d'en-t\\xEAte\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"card-subtitle mb-3\",\n                  children: \"T\\xE9l\\xE9charger une nouvelle image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 21\n                }, this), imagePreview ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"position-relative mb-2\",\n                    style: {\n                      maxWidth: '300px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: imagePreview,\n                      alt: \"Aper\\xE7u\",\n                      className: \"img-fluid rounded\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-sm btn-danger position-absolute top-0 end-0 m-2\",\n                      onClick: handleRemoveImage,\n                      title: \"Supprimer l'image\",\n                      children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: [\"Fichier s\\xE9lectionn\\xE9: \", newImageFile === null || newImageFile === void 0 ? void 0 : newImageFile.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"btn btn-outline-primary\",\n                    children: [/*#__PURE__*/_jsxDEV(FaUpload, {\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 402,\n                      columnNumber: 27\n                    }, this), \" S\\xE9lectionner une image\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      accept: \"image/*\",\n                      onChange: handleFileChange,\n                      className: \"d-none\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"card-subtitle mb-3\",\n                  children: [\"Ou s\\xE9lectionner une image existante\", formData.upload_id && !newImageFile && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-success ms-2\",\n                    children: \"(Image s\\xE9lectionn\\xE9e)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this), isEditMode && currentImage && formData.upload_id && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-2\",\n                    children: \"Image actuelle:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: currentImage.url,\n                      alt: currentImage.filename,\n                      className: \"img-thumbnail me-3\",\n                      style: {\n                        maxWidth: '100px',\n                        maxHeight: '100px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 432,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"mb-1\",\n                        children: currentImage.filename\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 439,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-sm btn-outline-danger\",\n                        onClick: () => setFormData(prev => ({\n                          ...prev,\n                          upload_id: ''\n                        })),\n                        children: \"Retirer\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 440,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 438,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 23\n                }, this), uploads.filter(u => u.type === 'image').length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row row-cols-2 row-cols-md-3 row-cols-lg-4 g-3\",\n                    children: uploads.filter(upload => upload.type === 'image').slice((currentPage - 1) * imagesPerPage, currentPage * imagesPerPage).map(upload => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `card h-100 ${formData.upload_id === upload.id.toString() ? 'border-primary border-2' : ''}`,\n                        onClick: () => handleExistingImageSelect(upload.id),\n                        style: {\n                          cursor: 'pointer'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-img-top\",\n                          style: {\n                            height: '120px',\n                            overflow: 'hidden'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: upload.url,\n                            alt: upload.filename,\n                            className: \"img-fluid w-100 h-100\",\n                            style: {\n                              objectFit: 'cover'\n                            },\n                            onError: e => {\n                              e.target.onerror = null;\n                              e.target.src = 'https://placehold.co/100x100?text=Error';\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 467,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 466,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-body p-2\",\n                          children: /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"card-text small text-truncate mb-0\",\n                            title: upload.filename,\n                            children: upload.filename\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 479,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 478,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 461,\n                        columnNumber: 33\n                      }, this)\n                    }, upload.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 460,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 455,\n                    columnNumber: 25\n                  }, this), uploads.filter(u => u.type === 'image').length > imagesPerPage && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3 d-flex justify-content-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"pagination\",\n                        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                          className: `page-item ${currentPage === 1 ? 'disabled' : ''}`,\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"page-link\",\n                            onClick: () => setCurrentPage(prev => Math.max(prev - 1, 1)),\n                            disabled: currentPage === 1,\n                            children: \"Pr\\xE9c\\xE9dent\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 495,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 494,\n                          columnNumber: 33\n                        }, this), Array.from({\n                          length: Math.ceil(uploads.filter(u => u.type === 'image').length / imagesPerPage)\n                        }, (_, i) => i + 1).map(pageNum => /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: `page-item ${currentPage === pageNum ? 'active' : ''}`,\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"page-link\",\n                            onClick: () => setCurrentPage(pageNum),\n                            children: pageNum\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 508,\n                            columnNumber: 37\n                          }, this)\n                        }, pageNum, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 507,\n                          columnNumber: 35\n                        }, this)), /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: `page-item ${currentPage === Math.ceil(uploads.filter(u => u.type === 'image').length / imagesPerPage) ? 'disabled' : ''}`,\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"page-link\",\n                            onClick: () => setCurrentPage(prev => Math.min(prev + 1, Math.ceil(uploads.filter(u => u.type === 'image').length / imagesPerPage))),\n                            disabled: currentPage === Math.ceil(uploads.filter(u => u.type === 'image').length / imagesPerPage),\n                            children: \"Suivant\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 518,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 517,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 493,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 492,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted\",\n                  children: \"Aucune image disponible. Veuillez t\\xE9l\\xE9charger une nouvelle image.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"user_id\",\n              className: \"form-label\",\n              children: \"Cr\\xE9\\xE9 par\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              id: \"user_id\",\n              name: \"user_id\",\n              value: formData.user_id,\n              onChange: handleChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"S\\xE9lectionner un cr\\xE9ateur\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 19\n              }, this), users.map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: user.id,\n                children: user.username || user.email || `User #${user.id}`\n              }, user.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: \"Si non s\\xE9lectionn\\xE9, l'utilisateur actuel sera utilis\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: saving,\n              children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"spinner-border spinner-border-sm me-2\",\n                  role: \"status\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 23\n                }, this), \"Enregistrement...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(FaSave, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 23\n                }, this), \" Enregistrer\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 298,\n    columnNumber: 5\n  }, this);\n};\n_s(PageFormPage, \"5cuKdJy7/+0RRFe1JsFQCHMI5JY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = PageFormPage;\nexport default PageFormPage;\nvar _c;\n$RefreshReg$(_c, \"PageFormPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","FaArrowLeft","FaSave","FaUpload","FaImage","FaTrash","getPage","createPage","updatePage","getUpload","createUpload","getUploads","getUsers","TextEditor","jsxDEV","_jsxDEV","Fragment","_Fragment","PageFormPage","_s","id","navigate","isEditMode","formData","setFormData","title","content","page_category","upload_id","user_id","newImageFile","setNewImageFile","imagePreview","setImagePreview","currentImage","setCurrentImage","loading","setLoading","saving","setSaving","error","setError","uploads","setUploads","users","setUsers","currentPage","setCurrentPage","imagesPerPage","pageCategories","fetchPage","response","pageData","data","toString","imageResponse","imageError","console","err","_err$response","_err$response$data","message","fetchData","log","uploadsResponse","usersResponse","Promise","all","uploadsData","Array","isArray","usersData","sortedUploads","sort","a","b","filenameA","filename","filenameB","localeCompare","_err$response2","_err$response3","_err$response3$data","handleChange","e","name","value","target","prev","handleCategoryChange","category","handleFileChange","file","files","allowedTypes","includes","type","maxSize","size","reader","FileReader","onloadend","result","readAsDataURL","handleRemoveImage","handleExistingImageSelect","uploadId","handleSubmit","preventDefault","finalUploadId","imageFormData","FormData","append","currentUserId","localStorage","getItem","uploadResponse","submitData","parseInt","_err$response4","_err$response4$data","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","role","onSubmit","htmlFor","onChange","required","map","style","maxWidth","src","alt","accept","url","maxHeight","filter","u","length","upload","slice","cursor","height","overflow","objectFit","onError","onerror","Math","max","disabled","from","ceil","_","i","pageNum","min","user","username","email","_c","$RefreshReg$"],"sources":["/Users/mac/Downloads/APP_NS_V1/dev_projet/sauvegardegit/front/src/pages/admin/pages/PageFormPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { \n  FaArrowLeft, \n  FaSave, \n  FaUpload, \n  FaImage, \n  FaTrash \n} from 'react-icons/fa';\nimport { getPage, createPage, updatePage } from '../../../services/pages';\nimport { getUpload, createUpload, getUploads } from '../../../services/uploads';\nimport { getUsers } from '../../../services/users';\n\nimport \"quill/dist/quill.snow.css\"; // Import du CSS\nimport TextEditor from \"../../../components/ui/forms/TextEditor\";\n\nconst PageFormPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const isEditMode = !!id;\n\n  // Form state\n  const [formData, setFormData] = useState({\n    title: '',\n    content: '',\n    page_category: '',\n    upload_id: '',\n    user_id: ''\n  });\n\n  // File upload state\n  const [newImageFile, setNewImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [currentImage, setCurrentImage] = useState(null);\n\n  // Status states\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [uploads, setUploads] = useState([]);\n  const [users, setUsers] = useState([]);\n  \n  // Pagination state\n  const [currentPage, setCurrentPage] = useState(1);\n  const imagesPerPage = 12;\n\n  // Page categories\n  const pageCategories = ['Information', 'Conseils', 'R√®gles', 'Foire aux questions'];\n\n  /**\n   * üá¨üáß Load page data if in edit mode\n   * üá´üá∑ Charger les donn√©es de la page si en mode √©dition\n   */\n  useEffect(() => {\n    const fetchPage = async () => {\n      if (isEditMode) {\n        try {\n          setLoading(true);\n          const response = await getPage(id);\n          const pageData = response.data;\n          \n          setFormData({\n            title: pageData.title || '',\n            content: pageData.content || '',\n            page_category: pageData.page_category || '',\n            upload_id: pageData.upload_id ? pageData.upload_id.toString() : '',\n            user_id: pageData.user_id ? pageData.user_id.toString() : ''\n          });\n          \n          // Fetch current image if available\n          if (pageData.upload_id) {\n            try {\n              const imageResponse = await getUpload(pageData.upload_id);\n              setCurrentImage(imageResponse.data);\n            } catch (imageError) {\n              console.error('Erreur lors du chargement de l\\'image:', imageError);\n            }\n          }\n          \n          setLoading(false);\n        } catch (err) {\n          console.error('Erreur lors du chargement de la page:', err);\n          setError(`Erreur lors du chargement de la page: ${err.response?.data?.message || err.message}`);\n          setLoading(false);\n        }\n      }\n    };\n\n    fetchPage();\n  }, [id, isEditMode]);\n\n  /**\n   * üá¨üáß Load uploads and users\n   * üá´üá∑ Charger les uploads et les utilisateurs\n   */\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        console.log('Chargement des donn√©es...');\n        \n        // Utiliser les services pour r√©cup√©rer les donn√©es\n        const [uploadsResponse, usersResponse] = await Promise.all([\n          getUploads(),\n          getUsers()\n        ]);\n\n        console.log('Donn√©es uploads:', uploadsResponse.data);\n        console.log('Donn√©es users:', usersResponse.data);\n\n        // V√©rifier que les donn√©es sont un tableau\n        const uploadsData = Array.isArray(uploadsResponse.data) ? uploadsResponse.data : [];\n        const usersData = Array.isArray(usersResponse.data) ? usersResponse.data : [];\n\n        // Trier les uploads par nom de fichier\n        const sortedUploads = uploadsData.sort((a, b) => {\n          const filenameA = a?.filename || '';\n          const filenameB = b?.filename || '';\n          return filenameA.localeCompare(filenameB);\n        });\n\n        setUploads(sortedUploads);\n        setUsers(usersData);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Erreur lors du chargement des donn√©es d√©taill√©e:\", err);\n        console.error(\"R√©ponse d'erreur:\", err.response);\n        console.error(\"Donn√©es d'erreur:\", err.response?.data);\n        setError(\"Erreur lors du chargement des donn√©es: \" + (err.response?.data?.message || err.message));\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  /**\n   * üá¨üáß Handle form input changes\n   * üá´üá∑ G√©rer les changements dans les champs du formulaire\n   */\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    console.log(`Changement ${name}: ${value}`);\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  /**\n   * üá¨üáß Handle category selection\n   * üá´üá∑ G√©rer la s√©lection de cat√©gorie\n   */\n  const handleCategoryChange = (category) => {\n    setFormData(prev => ({\n      ...prev,\n      page_category: prev.page_category === category ? '' : category\n    }));\n  };\n\n  /**\n   * üá¨üáß Handle file selection\n   * üá´üá∑ G√©rer la s√©lection de fichier\n   */\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Validate file type\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];\n    if (!allowedTypes.includes(file.type)) {\n      setError('Type de fichier non support√©. Utilisez JPG, PNG ou GIF.');\n      return;\n    }\n\n    // Validate file size (max 2MB)\n    const maxSize = 2 * 1024 * 1024; // 2MB\n    if (file.size > maxSize) {\n      setError('L\\'image est trop volumineuse. Taille maximum: 2MB');\n      return;\n    }\n\n    setNewImageFile(file);\n    \n    // Create image preview\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setImagePreview(reader.result);\n    };\n    reader.readAsDataURL(file);\n    \n    // Reset any existing upload_id\n    setFormData(prev => ({\n      ...prev,\n      upload_id: ''\n    }));\n    \n    // Clear any errors\n    setError(null);\n  };\n\n  /**\n   * üá¨üáß Handle image removal\n   * üá´üá∑ G√©rer la suppression d'image\n   */\n  const handleRemoveImage = () => {\n    setNewImageFile(null);\n    setImagePreview(null);\n    setFormData(prev => ({\n      ...prev,\n      upload_id: ''\n    }));\n  };\n\n  /**\n   * üá¨üáß Handle existing image selection\n   * üá´üá∑ G√©rer la s√©lection d'une image existante\n   */\n  const handleExistingImageSelect = (uploadId) => {\n    console.log('Image s√©lectionn√©e:', uploadId);\n    setFormData(prev => ({\n      ...prev,\n      upload_id: uploadId.toString()\n    }));\n    setNewImageFile(null);\n    setImagePreview(null);\n  };\n\n  /**\n   * üá¨üáß Handle form submission\n   * üá´üá∑ G√©rer la soumission du formulaire\n   */\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Validation\n    if (!formData.title || !formData.content) {\n      setError('Veuillez remplir tous les champs obligatoires');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      setError(null);\n      console.log('Donn√©es du formulaire avant envoi:', formData);\n\n      // Upload new image if provided\n      let finalUploadId = formData.upload_id;\n      \n      if (newImageFile) {\n        console.log('Upload d\\'une nouvelle image...');\n        const imageFormData = new FormData();\n        imageFormData.append('filename', newImageFile.name);\n        imageFormData.append('file', newImageFile);\n        imageFormData.append('type', 'image');\n        \n        // Utiliser l'ID de l'utilisateur actuel si disponible, sinon utiliser l'ID s√©lectionn√©\n        const currentUserId = localStorage.getItem('user_id') || formData.user_id;\n        if (currentUserId) {\n          imageFormData.append('user_id', currentUserId);\n        }\n        \n        const uploadResponse = await createUpload(imageFormData);\n        console.log('R√©ponse upload:', uploadResponse.data);\n        finalUploadId = uploadResponse.data.id.toString();\n      }\n\n      // Pr√©parer les donn√©es √† envoyer\n      const submitData = {\n        title: formData.title,\n        content: formData.content,\n        page_category: formData.page_category || null,\n        upload_id: finalUploadId ? parseInt(finalUploadId) : null,\n        user_id: parseInt(formData.user_id) || parseInt(localStorage.getItem('user_id') || '1')\n      };\n\n      console.log('Donn√©es finales √† envoyer:', submitData);\n\n      if (isEditMode) {\n        await updatePage(id, submitData);\n        console.log('Page mise √† jour avec succ√®s');\n      } else {\n        await createPage(submitData);\n        console.log('Page cr√©√©e avec succ√®s');\n      }\n\n      // Rediriger vers la liste des pages\n      navigate('/admin/pages');\n    } catch (err) {\n      console.error('Erreur lors de la sauvegarde:', err);\n      setError(`Erreur lors de l'enregistrement: ${err.response?.data?.message || err.message}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"container py-4\">\n      <button \n        className=\"btn btn-outline-primary mb-4\" \n        onClick={() => navigate('/admin/pages')}\n      >\n        <FaArrowLeft className=\"me-2\" /> Retour √† la liste\n      </button>\n\n      <div className=\"card shadow\">\n        <div className=\"card-header bg-white\">\n          <h5 className=\"card-title mb-0\">\n            {isEditMode ? \"Modifier la page\" : \"Cr√©er une nouvelle page\"}\n          </h5>\n        </div>\n\n        <div className=\"card-body\">\n          {loading ? (\n            <div className=\"text-center py-5\">\n              <div className=\"spinner-border text-primary\" role=\"status\">\n                <span className=\"visually-hidden\">Chargement...</span>\n              </div>\n            </div>\n          ) : (\n            <form onSubmit={handleSubmit}>\n              {error && (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {error}\n                </div>\n              )}\n\n              <div className=\"mb-3\">\n                <label htmlFor=\"title\" className=\"form-label\">Titre *</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"title\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleChange}\n                  required\n                />\n              </div>\n              \n              <div className=\"mb-3\">\n                <label className=\"form-label\">Contenu *</label>\n                <TextEditor\n                  value={formData.content} \n                  onChange={(value) => {\n                    console.log('Contenu chang√©');\n                    setFormData((prev) => ({ ...prev, content: value }));\n                  }} \n                />\n              </div>\n\n              {/* Cat√©gorie - Boutons √† cocher */}\n              <div className=\"mb-4\">\n                <label className=\"form-label d-block\">Cat√©gorie</label>\n                <div className=\"d-flex flex-wrap gap-2\">\n                  {pageCategories.map((category) => (\n                    <button\n                      key={category}\n                      type=\"button\"\n                      className={`btn ${formData.page_category === category ? 'btn-primary' : 'btn-outline-primary'}`}\n                      onClick={() => handleCategoryChange(category)}\n                    >\n                      {category}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Image d'en-t√™te - Upload et s√©lection */}\n              <div className=\"mb-4\">\n                <label className=\"form-label\">Image d'en-t√™te</label>\n                \n                {/* Upload de nouvelle image */}\n                <div className=\"card mb-3\">\n                  <div className=\"card-body\">\n                    <h6 className=\"card-subtitle mb-3\">T√©l√©charger une nouvelle image</h6>\n                    \n                    {imagePreview ? (\n                      <div className=\"mb-3\">\n                        <div className=\"position-relative mb-2\" style={{ maxWidth: '300px' }}>\n                          <img \n                            src={imagePreview} \n                            alt=\"Aper√ßu\" \n                            className=\"img-fluid rounded\"\n                          />\n                          <button \n                            type=\"button\"\n                            className=\"btn btn-sm btn-danger position-absolute top-0 end-0 m-2\"\n                            onClick={handleRemoveImage}\n                            title=\"Supprimer l'image\"\n                          >\n                            <FaTrash />\n                          </button>\n                        </div>\n                        <small className=\"text-muted\">\n                          Fichier s√©lectionn√©: {newImageFile?.name}\n                        </small>\n                      </div>\n                    ) : (\n                      <div className=\"mb-3\">\n                        <label className=\"btn btn-outline-primary\">\n                          <FaUpload className=\"me-2\" /> S√©lectionner une image\n                          <input \n                            type=\"file\"\n                            accept=\"image/*\"\n                            onChange={handleFileChange}\n                            className=\"d-none\"\n                          />\n                        </label>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                \n                {/* S√©lection d'une image existante */}\n                <div className=\"card mb-3\">\n                  <div className=\"card-body\">\n                    <h6 className=\"card-subtitle mb-3\">\n                      Ou s√©lectionner une image existante\n                      {formData.upload_id && !newImageFile && (\n                        <span className=\"text-success ms-2\">\n                          (Image s√©lectionn√©e)\n                        </span>\n                      )}\n                    </h6>\n                    \n                    {/* Image actuelle (si en mode √©dition) */}\n                    {isEditMode && currentImage && formData.upload_id && (\n                      <div className=\"mb-4\">\n                        <h6 className=\"mb-2\">Image actuelle:</h6>\n                        <div className=\"d-flex align-items-center\">\n                          <img \n                            src={currentImage.url} \n                            alt={currentImage.filename}\n                            className=\"img-thumbnail me-3\"\n                            style={{ maxWidth: '100px', maxHeight: '100px' }}\n                          />\n                          <div>\n                            <p className=\"mb-1\">{currentImage.filename}</p>\n                            <button\n                              type=\"button\"\n                              className=\"btn btn-sm btn-outline-danger\"\n                              onClick={() => setFormData(prev => ({ ...prev, upload_id: '' }))}\n                            >\n                              Retirer\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                    \n                    {/* Liste des images disponibles */}\n                    {uploads.filter(u => u.type === 'image').length > 0 ? (\n                      <>\n                        <div className=\"row row-cols-2 row-cols-md-3 row-cols-lg-4 g-3\">\n                          {uploads\n                            .filter(upload => upload.type === 'image')\n                            .slice((currentPage - 1) * imagesPerPage, currentPage * imagesPerPage)\n                            .map((upload) => (\n                              <div key={upload.id} className=\"col\">\n                                <div \n                                  className={`card h-100 ${formData.upload_id === upload.id.toString() ? 'border-primary border-2' : ''}`}\n                                  onClick={() => handleExistingImageSelect(upload.id)}\n                                  style={{ cursor: 'pointer' }}\n                                >\n                                  <div className=\"card-img-top\" style={{ height: '120px', overflow: 'hidden' }}>\n                                    <img \n                                      src={upload.url}\n                                      alt={upload.filename}\n                                      className=\"img-fluid w-100 h-100\"\n                                      style={{ objectFit: 'cover' }}\n                                      onError={(e) => {\n                                        e.target.onerror = null;\n                                        e.target.src = 'https://placehold.co/100x100?text=Error';\n                                      }}\n                                    />\n                                  </div>\n                                  <div className=\"card-body p-2\">\n                                    <p className=\"card-text small text-truncate mb-0\" title={upload.filename}>\n                                      {upload.filename}\n                                    </p>\n                                  </div>\n                                </div>\n                              </div>\n                            ))\n                          }\n                        </div>\n                        \n                        {/* Pagination */}\n                        {uploads.filter(u => u.type === 'image').length > imagesPerPage && (\n                          <div className=\"mt-3 d-flex justify-content-center\">\n                            <nav>\n                              <ul className=\"pagination\">\n                                <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                                  <button \n                                    className=\"page-link\"\n                                    onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\n                                    disabled={currentPage === 1}\n                                  >\n                                    Pr√©c√©dent\n                                  </button>\n                                </li>\n                                \n                                {Array.from({ \n                                  length: Math.ceil(uploads.filter(u => u.type === 'image').length / imagesPerPage) \n                                }, (_, i) => i + 1).map(pageNum => (\n                                  <li key={pageNum} className={`page-item ${currentPage === pageNum ? 'active' : ''}`}>\n                                    <button \n                                      className=\"page-link\"\n                                      onClick={() => setCurrentPage(pageNum)}\n                                    >\n                                      {pageNum}\n                                    </button>\n                                  </li>\n                                ))}\n                                \n                                <li className={`page-item ${currentPage === Math.ceil(uploads.filter(u => u.type === 'image').length / imagesPerPage) ? 'disabled' : ''}`}>\n                                  <button \n                                    className=\"page-link\"\n                                    onClick={() => setCurrentPage(prev => \n                                      Math.min(prev + 1, Math.ceil(uploads.filter(u => u.type === 'image').length / imagesPerPage))\n                                    )}\n                                    disabled={currentPage === Math.ceil(uploads.filter(u => u.type === 'image').length / imagesPerPage)}\n                                  >\n                                    Suivant\n                                  </button>\n                                </li>\n                              </ul>\n                            </nav>\n                          </div>\n                        )}\n                      </>\n                    ) : (\n                      <p className=\"text-muted\">\n                        Aucune image disponible. Veuillez t√©l√©charger une nouvelle image.\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mb-4\">\n                <label htmlFor=\"user_id\" className=\"form-label\">Cr√©√© par</label>\n                <select\n                  className=\"form-select\"\n                  id=\"user_id\"\n                  name=\"user_id\"\n                  value={formData.user_id}\n                  onChange={handleChange}\n                >\n                  <option value=\"\">S√©lectionner un cr√©ateur</option>\n                  {users.map((user) => (\n                    <option key={user.id} value={user.id}>\n                      {user.username || user.email || `User #${user.id}`}\n                    </option>\n                  ))}\n                </select>\n                <small className=\"text-muted\">\n                  Si non s√©lectionn√©, l'utilisateur actuel sera utilis√©\n                </small>\n              </div>\n\n              <div className=\"text-end\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                  disabled={saving}\n                >\n                  {saving ? (\n                    <>\n                      <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                      Enregistrement...\n                    </>\n                  ) : (\n                    <>\n                      <FaSave className=\"me-2\" /> Enregistrer\n                    </>\n                  )}\n                </button>\n              </div>\n            </form>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PageFormPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}