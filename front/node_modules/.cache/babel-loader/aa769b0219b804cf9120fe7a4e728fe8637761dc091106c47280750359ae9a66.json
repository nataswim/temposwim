{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Downloads/APP_NS_V1/dev_projet/sauvegardegit/front/src/pages/user/workouts/UserWorkoutDetailPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { FaArrowLeft, FaSwimmingPool, FaInfoCircle, FaClock, FaRulerHorizontal, FaLayerGroup, FaSwimmer } from 'react-icons/fa';\nimport { getWorkout } from '../../../services/workouts';\nimport { getSwimSetsForWorkout } from '../../../services/workoutSwimSets';\nimport { getExercise } from '../../../services/exercises'; // Importation du service pour r√©cup√©rer les exercices\n\n/**\n * üá¨üáß Workout detail page that displays all information without tab navigation\n * \n * üá´üá∑ Page de d√©tail d'une s√©ance qui affiche toutes les informations sans navigation par onglets\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserWorkoutDetailPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n\n  // √âtats\n  const [workout, setWorkout] = useState(null);\n  const [swimSets, setSwimSets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [enrichedSwimSets, setEnrichedSwimSets] = useState([]);\n\n  // Charger les donn√©es de la s√©ance\n  useEffect(() => {\n    const fetchWorkoutData = async () => {\n      try {\n        setLoading(true);\n\n        // Charger les d√©tails de la s√©ance\n        const workoutResponse = await getWorkout(id);\n        setWorkout(workoutResponse.data);\n\n        // Charger les s√©ries de la s√©ance\n        const setsResponse = await getSwimSetsForWorkout(id);\n        setSwimSets(setsResponse.data);\n\n        // Enrichir les s√©ries avec des informations d'exercices\n        if (setsResponse.data && setsResponse.data.length > 0) {\n          const enriched = await Promise.all(setsResponse.data.map(async set => {\n            try {\n              // Si l'exercise_id existe, r√©cup√©rer les d√©tails de l'exercice\n              if (set.exercise_id) {\n                // Utiliser le service d'exercices existant au lieu de fetch\n                const exerciseResponse = await getExercise(set.exercise_id);\n\n                // V√©rifier que la r√©ponse est valide\n                if (exerciseResponse && exerciseResponse.data) {\n                  return {\n                    ...set,\n                    exerciseTitle: exerciseResponse.data.title,\n                    exerciseLevel: exerciseResponse.data.exercise_level,\n                    exerciseCategory: exerciseResponse.data.exercise_category,\n                    totalDistance: (set.set_distance || 0) * (set.set_repetition || 1)\n                  };\n                }\n              }\n              // Fallback si l'exercise_id n'existe pas ou si la r√©cup√©ration √©choue\n              return {\n                ...set,\n                exerciseTitle: set.exercise_id ? `Exercice #${set.exercise_id}` : 'Non sp√©cifi√©',\n                totalDistance: (set.set_distance || 0) * (set.set_repetition || 1)\n              };\n            } catch (error) {\n              console.error(`Erreur lors de la r√©cup√©ration de l'exercice ${set.exercise_id}:`, error);\n              return {\n                ...set,\n                exerciseTitle: `Exercice #${set.exercise_id}`,\n                totalDistance: (set.set_distance || 0) * (set.set_repetition || 1)\n              };\n            }\n          }));\n          setEnrichedSwimSets(enriched);\n          console.log(\"S√©ries enrichies:\", enriched); // Log pour d√©bogage\n        }\n        setError(null);\n      } catch (err) {\n        console.error('Error fetching workout data:', err);\n        setError('Impossible de charger les d√©tails de la s√©ance.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchWorkoutData();\n  }, [id]);\n\n  // Calculer les statistiques de la s√©ance\n  const calculateWorkoutStats = () => {\n    const sets = enrichedSwimSets.length > 0 ? enrichedSwimSets : swimSets;\n    const totalDistance = sets.reduce((acc, set) => {\n      return acc + (set.set_distance || 0) * (set.set_repetition || 1);\n    }, 0);\n    const totalTime = sets.reduce((acc, set) => {\n      // Estimation: 2min/100m + temps de repos\n      const swimTime = (set.set_distance || 0) / 100 * 2 * (set.set_repetition || 1);\n      const restTime = (set.rest_time || 0) / 60; // Convertir en minutes\n      return acc + swimTime + restTime;\n    }, 0);\n    return {\n      totalDistance,\n      totalTime: Math.round(totalTime),\n      totalSets: sets.length\n    };\n  };\n\n  // Formater la dur√©e\n  const formatDuration = minutes => {\n    if (!minutes) return '0 min';\n    if (minutes < 60) return `${minutes} min`;\n    const hours = Math.floor(minutes / 60);\n    const remainingMinutes = minutes % 60;\n    return `${hours}h${remainingMinutes > 0 ? ` ${remainingMinutes}min` : ''}`;\n  };\n\n  // Format rest time in seconds to MM:SS\n  const formatRestTime = seconds => {\n    if (!seconds) return '00:00';\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Obtenir la couleur du badge selon la cat√©gorie\n  const getCategoryBadgeColor = category => {\n    switch (category) {\n      case 'Aero 1':\n        return 'success';\n      case 'Vitesse':\n        return 'danger';\n      case 'Technique':\n        return 'info';\n      case 'R√©cup√©ration':\n        return 'warning';\n      case 'Mixte':\n        return 'purple';\n      default:\n        return 'secondary';\n    }\n  };\n\n  /**\n   * üá¨üáß Render HTML content safely\n   * \n   * üá´üá∑ Rendre le contenu HTML en toute s√©curit√©\n   */\n  const renderDescription = description => {\n    if (!description) return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-muted mb-0\",\n      children: \"Aucune description disponible.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 30\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"description-content\",\n      dangerouslySetInnerHTML: {\n        __html: description\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"container py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-border text-primary\",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Chargement...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n  if (error || !workout) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"container py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger\",\n          role: \"alert\",\n          children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {\n            className: \"me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), error || \"S√©ance non trouv√©e\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => navigate('/user/workouts'),\n          children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n            className: \"me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), \" Retour aux s\\xE9ances\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n  const stats = calculateWorkoutStats();\n  const sets = enrichedSwimSets.length > 0 ? enrichedSwimSets : swimSets;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container-fluid py-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-primary me-3\",\n        onClick: () => navigate('/user/workouts'),\n        children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n          className: \"me-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), \" Plus de s\\xE9ances\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"h2 mb-0 title-swim\",\n        children: workout.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `badge bg-${getCategoryBadgeColor(workout.workout_category)}`,\n          children: workout.workout_category || 'Non cat√©goris√©'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card bg-light h-100\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body text-center\",\n              children: [/*#__PURE__*/_jsxDEV(FaRulerHorizontal, {\n                className: \"text-primary mb-2\",\n                size: 30\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"h5 mb-2\",\n                children: \"Distance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"h3 mb-0 text-primary fw-bold\",\n                children: [stats.totalDistance, \"m\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card bg-light h-100\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body text-center\",\n              children: [/*#__PURE__*/_jsxDEV(FaClock, {\n                className: \"text-primary mb-2\",\n                size: 30\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"h5 mb-2\",\n                children: \"Dur\\xE9e estim\\xE9e\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"h3 mb-0 text-primary fw-bold\",\n                children: formatDuration(stats.totalTime)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card bg-light h-100\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body text-center\",\n              children: [/*#__PURE__*/_jsxDEV(FaLayerGroup, {\n                className: \"text-primary mb-2\",\n                size: 30\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"h5 mb-2\",\n                children: \"S\\xE9ries\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"h3 mb-0 text-primary fw-bold\",\n                children: stats.totalSets\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow-sm mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header bg-white\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"h5 mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(FaSwimmingPool, {\n              className: \"me-2 text-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), \"La S\\xE9ance (\", sets.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body p-0\",\n          children: sets.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-info m-3\",\n            children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {\n              className: \"me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this), \"Aucune s\\xE9rie n'a encore \\xE9t\\xE9 ajout\\xE9e \\xE0 cette s\\xE9ance.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-responsive\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table table-hover mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"table-light\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: \"R\\xE9p\\xE9titions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: \"Distance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Exercice\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: \"Repos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: \"Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [sets.map(set => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-primary\",\n                      children: [\"x\", set.set_repetition || 1]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-info text-dark\",\n                      children: [set.set_distance, \"m\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: set.exercise_id ? /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/user/exercises/${set.exercise_id}`,\n                      className: \"text-decoration-none\",\n                      children: set.exerciseTitle\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 29\n                    }, this) : 'Non d√©fini'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-secondary\",\n                      children: formatRestTime(set.rest_time)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center fw-bold\",\n                    children: [(set.set_distance || 0) * (set.set_repetition || 1), \"m\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 25\n                  }, this)]\n                }, set.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 23\n                }, this)), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"table-light\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"4\",\n                    className: \"text-end fw-bold\",\n                    children: \"Distance totale:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center fw-bold\",\n                    children: [stats.totalDistance, \"m\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow-sm mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header bg-white\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"h5 mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {\n              className: \"me-2 text-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), \"Description\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: renderDescription(workout.description)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(UserWorkoutDetailPage, \"Z9/Dnxf1HijUZ9T5nIVP1eQW2Ao=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = UserWorkoutDetailPage;\nexport default UserWorkoutDetailPage;\nvar _c;\n$RefreshReg$(_c, \"UserWorkoutDetailPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","FaArrowLeft","FaSwimmingPool","FaInfoCircle","FaClock","FaRulerHorizontal","FaLayerGroup","FaSwimmer","getWorkout","getSwimSetsForWorkout","getExercise","jsxDEV","_jsxDEV","Fragment","_Fragment","UserWorkoutDetailPage","_s","id","navigate","workout","setWorkout","swimSets","setSwimSets","loading","setLoading","error","setError","enrichedSwimSets","setEnrichedSwimSets","fetchWorkoutData","workoutResponse","data","setsResponse","length","enriched","Promise","all","map","set","exercise_id","exerciseResponse","exerciseTitle","title","exerciseLevel","exercise_level","exerciseCategory","exercise_category","totalDistance","set_distance","set_repetition","console","log","err","calculateWorkoutStats","sets","reduce","acc","totalTime","swimTime","restTime","rest_time","Math","round","totalSets","formatDuration","minutes","hours","floor","remainingMinutes","formatRestTime","seconds","mins","secs","toString","padStart","getCategoryBadgeColor","category","renderDescription","description","className","children","fileName","_jsxFileName","lineNumber","columnNumber","dangerouslySetInnerHTML","__html","role","onClick","stats","workout_category","size","to","colSpan","_c","$RefreshReg$"],"sources":["/Users/mac/Downloads/APP_NS_V1/dev_projet/sauvegardegit/front/src/pages/user/workouts/UserWorkoutDetailPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { \n  FaArrowLeft,\n  FaSwimmingPool,\n  FaInfoCircle,\n  FaClock,\n  FaRulerHorizontal,\n  FaLayerGroup,\n  FaSwimmer\n} from 'react-icons/fa';\nimport { getWorkout } from '../../../services/workouts';\nimport { getSwimSetsForWorkout } from '../../../services/workoutSwimSets';\nimport { getExercise } from '../../../services/exercises'; // Importation du service pour r√©cup√©rer les exercices\n\n/**\n * üá¨üáß Workout detail page that displays all information without tab navigation\n * \n * üá´üá∑ Page de d√©tail d'une s√©ance qui affiche toutes les informations sans navigation par onglets\n */\nconst UserWorkoutDetailPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  \n  // √âtats\n  const [workout, setWorkout] = useState(null);\n  const [swimSets, setSwimSets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [enrichedSwimSets, setEnrichedSwimSets] = useState([]);\n\n  // Charger les donn√©es de la s√©ance\n  useEffect(() => {\n    const fetchWorkoutData = async () => {\n      try {\n        setLoading(true);\n        \n        // Charger les d√©tails de la s√©ance\n        const workoutResponse = await getWorkout(id);\n        setWorkout(workoutResponse.data);\n\n        // Charger les s√©ries de la s√©ance\n        const setsResponse = await getSwimSetsForWorkout(id);\n        setSwimSets(setsResponse.data);\n\n        // Enrichir les s√©ries avec des informations d'exercices\n        if (setsResponse.data && setsResponse.data.length > 0) {\n          const enriched = await Promise.all(setsResponse.data.map(async (set) => {\n            try {\n              // Si l'exercise_id existe, r√©cup√©rer les d√©tails de l'exercice\n              if (set.exercise_id) {\n                // Utiliser le service d'exercices existant au lieu de fetch\n                const exerciseResponse = await getExercise(set.exercise_id);\n                \n                // V√©rifier que la r√©ponse est valide\n                if (exerciseResponse && exerciseResponse.data) {\n                  return {\n                    ...set,\n                    exerciseTitle: exerciseResponse.data.title,\n                    exerciseLevel: exerciseResponse.data.exercise_level,\n                    exerciseCategory: exerciseResponse.data.exercise_category,\n                    totalDistance: (set.set_distance || 0) * (set.set_repetition || 1)\n                  };\n                }\n              }\n              // Fallback si l'exercise_id n'existe pas ou si la r√©cup√©ration √©choue\n              return {\n                ...set,\n                exerciseTitle: set.exercise_id ? `Exercice #${set.exercise_id}` : 'Non sp√©cifi√©',\n                totalDistance: (set.set_distance || 0) * (set.set_repetition || 1)\n              };\n            } catch (error) {\n              console.error(`Erreur lors de la r√©cup√©ration de l'exercice ${set.exercise_id}:`, error);\n              return {\n                ...set,\n                exerciseTitle: `Exercice #${set.exercise_id}`,\n                totalDistance: (set.set_distance || 0) * (set.set_repetition || 1)\n              };\n            }\n          }));\n          \n          setEnrichedSwimSets(enriched);\n          console.log(\"S√©ries enrichies:\", enriched); // Log pour d√©bogage\n        }\n\n        setError(null);\n      } catch (err) {\n        console.error('Error fetching workout data:', err);\n        setError('Impossible de charger les d√©tails de la s√©ance.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchWorkoutData();\n  }, [id]);\n\n  // Calculer les statistiques de la s√©ance\n  const calculateWorkoutStats = () => {\n    const sets = enrichedSwimSets.length > 0 ? enrichedSwimSets : swimSets;\n    \n    const totalDistance = sets.reduce((acc, set) => {\n      return acc + ((set.set_distance || 0) * (set.set_repetition || 1));\n    }, 0);\n\n    const totalTime = sets.reduce((acc, set) => {\n      // Estimation: 2min/100m + temps de repos\n      const swimTime = ((set.set_distance || 0) / 100) * 2 * (set.set_repetition || 1);\n      const restTime = (set.rest_time || 0) / 60; // Convertir en minutes\n      return acc + swimTime + restTime;\n    }, 0);\n\n    return {\n      totalDistance,\n      totalTime: Math.round(totalTime),\n      totalSets: sets.length\n    };\n  };\n\n  // Formater la dur√©e\n  const formatDuration = (minutes) => {\n    if (!minutes) return '0 min';\n    if (minutes < 60) return `${minutes} min`;\n    const hours = Math.floor(minutes / 60);\n    const remainingMinutes = minutes % 60;\n    return `${hours}h${remainingMinutes > 0 ? ` ${remainingMinutes}min` : ''}`;\n  };\n\n  // Format rest time in seconds to MM:SS\n  const formatRestTime = (seconds) => {\n    if (!seconds) return '00:00';\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Obtenir la couleur du badge selon la cat√©gorie\n  const getCategoryBadgeColor = (category) => {\n    switch (category) {\n      case 'Aero 1': return 'success';\n      case 'Vitesse': return 'danger';\n      case 'Technique': return 'info';\n      case 'R√©cup√©ration': return 'warning';\n      case 'Mixte': return 'purple';\n      default: return 'secondary';\n    }\n  };\n\n  /**\n   * üá¨üáß Render HTML content safely\n   * \n   * üá´üá∑ Rendre le contenu HTML en toute s√©curit√©\n   */\n  const renderDescription = (description) => {\n    if (!description) return <p className=\"text-muted mb-0\">Aucune description disponible.</p>;\n    \n    return (\n      <div \n        className=\"description-content\"\n        dangerouslySetInnerHTML={{ __html: description }}\n      />\n    );\n  };\n\n  if (loading) {\n    return (\n      <>\n        <main className=\"container py-4\">\n          <div className=\"text-center\">\n            <div className=\"spinner-border text-primary\" role=\"status\">\n              <span className=\"visually-hidden\">Chargement...</span>\n            </div>\n          </div>\n        </main>\n      </>\n    );\n  }\n\n  if (error || !workout) {\n    return (\n      <>\n        <main className=\"container py-4\">\n          <div className=\"alert alert-danger\" role=\"alert\">\n            <FaInfoCircle className=\"me-2\" />\n            {error || \"S√©ance non trouv√©e\"}\n          </div>\n          <button \n            className=\"btn btn-primary\"\n            onClick={() => navigate('/user/workouts')}\n          >\n            <FaArrowLeft className=\"me-2\" /> Retour aux s√©ances\n          </button>\n        </main>\n      </>\n    );\n  }\n\n  const stats = calculateWorkoutStats();\n  const sets = enrichedSwimSets.length > 0 ? enrichedSwimSets : swimSets;\n\n  return (\n    <>\n      <main className=\"container-fluid py-4\">\n\n        {/* En-t√™te */}\n        <button\n          className=\"btn btn-outline-primary me-3\"\n          onClick={() => navigate('/user/workouts')}\n        >\n          <FaArrowLeft className=\"me-2\" /> Plus de s√©ances\n        </button>\n        <div>\n        </div>\n        <br />\n\n        <h1 className=\"h2 mb-0 title-swim\">{workout.title}</h1>\n        <br />\n\n        <div className=\"mt-2\">\n          <span className={`badge bg-${getCategoryBadgeColor(workout.workout_category)}`}>\n            {workout.workout_category || 'Non cat√©goris√©'}\n          </span>\n        </div>\n        \n        <br />\n\n        {/* Cartes statistiques */}\n        <div className=\"row mb-4\">\n          <div className=\"col-md-4\">\n            <div className=\"card bg-light h-100\">\n              <div className=\"card-body text-center\">\n                <FaRulerHorizontal className=\"text-primary mb-2\" size={30} />\n                <h3 className=\"h5 mb-2\">Distance</h3>\n                <p className=\"h3 mb-0 text-primary fw-bold\">{stats.totalDistance}m</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-4\">\n            <div className=\"card bg-light h-100\">\n              <div className=\"card-body text-center\">\n                <FaClock className=\"text-primary mb-2\" size={30} />\n                <h3 className=\"h5 mb-2\">Dur√©e estim√©e</h3>\n                <p className=\"h3 mb-0 text-primary fw-bold\">{formatDuration(stats.totalTime)}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-4\">\n            <div className=\"card bg-light h-100\">\n              <div className=\"card-body text-center\">\n                <FaLayerGroup className=\"text-primary mb-2\" size={30} />\n                <h3 className=\"h5 mb-2\">S√©ries</h3>\n                <p className=\"h3 mb-0 text-primary fw-bold\">{stats.totalSets}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* S√©ries */}\n        <div className=\"card shadow-sm mb-4\">\n          <div className=\"card-header bg-white\">\n            <h2 className=\"h5 mb-0\">\n              <FaSwimmingPool className=\"me-2 text-primary\" />\n              La S√©ance ({sets.length})\n            </h2>\n          </div>\n          <div className=\"card-body p-0\">\n            {sets.length === 0 ? (\n              <div className=\"alert alert-info m-3\">\n                <FaInfoCircle className=\"me-2\" />\n                Aucune s√©rie n'a encore √©t√© ajout√©e √† cette s√©ance.\n              </div>\n            ) : (\n              <div className=\"table-responsive\">\n                <table className=\"table table-hover mb-0\">\n                  <thead className=\"table-light\">\n                    <tr>\n                      <th className=\"text-center\">R√©p√©titions</th>\n                      <th className=\"text-center\">Distance</th>\n                      <th>Exercice</th>\n                      <th className=\"text-center\">Repos</th>\n                      <th className=\"text-center\">Total</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {sets.map(set => (\n                      <tr key={set.id}>\n                        <td className=\"text-center\">\n                          <span className=\"badge bg-primary\">\n                            x{set.set_repetition || 1}\n                          </span>\n                        </td>\n                        <td className=\"text-center\">\n                          <span className=\"badge bg-info text-dark\">\n                            {set.set_distance}m\n                          </span>\n                        </td>\n                        <td>\n                          {set.exercise_id ? (\n                            <Link to={`/user/exercises/${set.exercise_id}`} className=\"text-decoration-none\">\n                              {set.exerciseTitle}\n                            </Link>\n                          ) : (\n                            'Non d√©fini'\n                          )}\n                        </td>\n                        <td className=\"text-center\">\n                          <span className=\"badge bg-secondary\">\n                            {formatRestTime(set.rest_time)}\n                          </span>\n                        </td>\n                        <td className=\"text-center fw-bold\">\n                          {(set.set_distance || 0) * (set.set_repetition || 1)}m\n                        </td>\n                      </tr>\n                    ))}\n                    <tr className=\"table-light\">\n                      <td colSpan=\"4\" className=\"text-end fw-bold\">\n                        Distance totale:\n                      </td>\n                      <td className=\"text-center fw-bold\">\n                        {stats.totalDistance}m\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Description */}\n        <div className=\"card shadow-sm mb-4\">\n          <div className=\"card-header bg-white\">\n            <h2 className=\"h5 mb-0\">\n              <FaInfoCircle className=\"me-2 text-primary\" />\n              Description\n            </h2>\n          </div>\n          <div className=\"card-body\">\n            {renderDescription(workout.description)}\n          </div>\n        </div>\n      </main>\n    </>\n  );\n};\n\nexport default UserWorkoutDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}