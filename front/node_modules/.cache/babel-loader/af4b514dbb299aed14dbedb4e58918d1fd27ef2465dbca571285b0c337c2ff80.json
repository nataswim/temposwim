{"ast":null,"code":"// mylistItems.js - Service corrigé\nimport api from './api';\n\n// Get items for a mylist\nexport const getMylistItems = mylistId => {\n  console.log(`Récupération des éléments pour la liste ${mylistId}`);\n\n  // IMPORTANT: Utiliser la route correcte sans duplication du préfixe 'api'\n  // Vérifier dans votre fichier routes/api.php quelle est la route exacte\n\n  // Si la route est définie comme 'mylist/{mylist}/items' dans api.php\n  return api.get(`/api/mylist/${mylistId}/items`);\n\n  // Si vous voyez que la route devrait être 'mylists/{mylist}/items'\n  // return api.get(`/api/mylists/${mylistId}/items`);\n};\n\n// Add item to mylist\nexport const addItemToMylist = (mylistId, itemData) => {\n  console.log(`Ajout d'un élément à la liste ${mylistId}:`, itemData);\n\n  // Vérification des données requises\n  if (!itemData.item_id || !itemData.item_type) {\n    console.error('Données invalides pour l\\'ajout d\\'un élément à la liste:', itemData);\n    return Promise.reject(new Error('Données invalides pour l\\'ajout d\\'un élément à la liste'));\n  }\n\n  // Assurez-vous que item_id est un nombre\n  const finalData = {\n    ...itemData,\n    item_id: parseInt(itemData.item_id, 10)\n  };\n\n  // Utiliser la route correcte\n  return api.post(`/api/mylist/${mylistId}/items`, finalData);\n  // Ou si la route correcte est avec 'mylists'\n  // return api.post(`/api/mylists/${mylistId}/items`, finalData);\n};\n\n// Remove item from mylist\nexport const removeItemFromMylist = (mylistId, itemId) => {\n  console.log(`Suppression de l'élément ${itemId} de la liste ${mylistId}`);\n\n  // Utiliser la route correcte\n  return api.delete(`/api/mylist/${mylistId}/items/${itemId}`);\n  // Ou si la route correcte est avec 'mylists'\n  // return api.delete(`/api/mylists/${mylistId}/items/${itemId}`);\n};","map":{"version":3,"names":["api","getMylistItems","mylistId","console","log","get","addItemToMylist","itemData","item_id","item_type","error","Promise","reject","Error","finalData","parseInt","post","removeItemFromMylist","itemId","delete"],"sources":["/Users/mac/Downloads/APP_NS_V1/dev_projet/sauvegardegit/front/src/services/mylistItems.js"],"sourcesContent":["// mylistItems.js - Service corrigé\nimport api from './api';\n\n// Get items for a mylist\nexport const getMylistItems = (mylistId) => {\n  console.log(`Récupération des éléments pour la liste ${mylistId}`);\n  \n  // IMPORTANT: Utiliser la route correcte sans duplication du préfixe 'api'\n  // Vérifier dans votre fichier routes/api.php quelle est la route exacte\n  \n  // Si la route est définie comme 'mylist/{mylist}/items' dans api.php\n  return api.get(`/api/mylist/${mylistId}/items`);\n  \n  // Si vous voyez que la route devrait être 'mylists/{mylist}/items'\n  // return api.get(`/api/mylists/${mylistId}/items`);\n};\n\n// Add item to mylist\nexport const addItemToMylist = (mylistId, itemData) => {\n  console.log(`Ajout d'un élément à la liste ${mylistId}:`, itemData);\n  \n  // Vérification des données requises\n  if (!itemData.item_id || !itemData.item_type) {\n    console.error('Données invalides pour l\\'ajout d\\'un élément à la liste:', itemData);\n    return Promise.reject(new Error('Données invalides pour l\\'ajout d\\'un élément à la liste'));\n  }\n  \n  // Assurez-vous que item_id est un nombre\n  const finalData = {\n    ...itemData,\n    item_id: parseInt(itemData.item_id, 10)\n  };\n  \n  // Utiliser la route correcte\n  return api.post(`/api/mylist/${mylistId}/items`, finalData);\n  // Ou si la route correcte est avec 'mylists'\n  // return api.post(`/api/mylists/${mylistId}/items`, finalData);\n};\n\n// Remove item from mylist\nexport const removeItemFromMylist = (mylistId, itemId) => {\n  console.log(`Suppression de l'élément ${itemId} de la liste ${mylistId}`);\n  \n  // Utiliser la route correcte\n  return api.delete(`/api/mylist/${mylistId}/items/${itemId}`);\n  // Ou si la route correcte est avec 'mylists'\n  // return api.delete(`/api/mylists/${mylistId}/items/${itemId}`);\n};"],"mappings":"AAAA;AACA,OAAOA,GAAG,MAAM,OAAO;;AAEvB;AACA,OAAO,MAAMC,cAAc,GAAIC,QAAQ,IAAK;EAC1CC,OAAO,CAACC,GAAG,CAAC,2CAA2CF,QAAQ,EAAE,CAAC;;EAElE;EACA;;EAEA;EACA,OAAOF,GAAG,CAACK,GAAG,CAAC,eAAeH,QAAQ,QAAQ,CAAC;;EAE/C;EACA;AACF,CAAC;;AAED;AACA,OAAO,MAAMI,eAAe,GAAGA,CAACJ,QAAQ,EAAEK,QAAQ,KAAK;EACrDJ,OAAO,CAACC,GAAG,CAAC,iCAAiCF,QAAQ,GAAG,EAAEK,QAAQ,CAAC;;EAEnE;EACA,IAAI,CAACA,QAAQ,CAACC,OAAO,IAAI,CAACD,QAAQ,CAACE,SAAS,EAAE;IAC5CN,OAAO,CAACO,KAAK,CAAC,2DAA2D,EAAEH,QAAQ,CAAC;IACpF,OAAOI,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,0DAA0D,CAAC,CAAC;EAC9F;;EAEA;EACA,MAAMC,SAAS,GAAG;IAChB,GAAGP,QAAQ;IACXC,OAAO,EAAEO,QAAQ,CAACR,QAAQ,CAACC,OAAO,EAAE,EAAE;EACxC,CAAC;;EAED;EACA,OAAOR,GAAG,CAACgB,IAAI,CAAC,eAAed,QAAQ,QAAQ,EAAEY,SAAS,CAAC;EAC3D;EACA;AACF,CAAC;;AAED;AACA,OAAO,MAAMG,oBAAoB,GAAGA,CAACf,QAAQ,EAAEgB,MAAM,KAAK;EACxDf,OAAO,CAACC,GAAG,CAAC,4BAA4Bc,MAAM,gBAAgBhB,QAAQ,EAAE,CAAC;;EAEzE;EACA,OAAOF,GAAG,CAACmB,MAAM,CAAC,eAAejB,QAAQ,UAAUgB,MAAM,EAAE,CAAC;EAC5D;EACA;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}