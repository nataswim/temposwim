{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Downloads/APP_NS_V1/dev_projet/sauvegardegit/front/src/pages/admin/plans/PlanFormPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FaArrowLeft, FaSave, FaSwimmer, FaSearch, FaPlus, FaTrash, FaEdit, FaEye, FaRegCheckSquare, FaRegSquare, FaSort, FaSortUp, FaSortDown, FaFilter, FaRulerHorizontal, FaLayerGroup, FaInfoCircle } from 'react-icons/fa';\nimport { getPlan, createPlan, updatePlan } from '../../../services/plans';\nimport { getWorkoutsForPlan, addWorkoutToPlan, removeWorkoutFromPlan } from '../../../services/planWorkouts';\nimport TextEditor from '../../../components/ui/forms/TextEditor';\nimport \"quill/dist/quill.snow.css\"; // Import du CSS pour TextEditor\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PlanFormPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const isEditMode = !!id;\n\n  // Form state\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    plan_category: '',\n    user_id: ''\n  });\n\n  // Workouts state\n  const [allWorkouts, setAllWorkouts] = useState([]);\n  const [selectedWorkouts, setSelectedWorkouts] = useState([]);\n  const [currentPlanWorkouts, setCurrentPlanWorkouts] = useState([]);\n  const [workoutSearchTerm, setWorkoutSearchTerm] = useState('');\n  const [workoutFilter, setWorkoutFilter] = useState('all');\n  const [sortConfig, setSortConfig] = useState({\n    key: 'id',\n    direction: 'asc'\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(5);\n\n  // Status states\n  const [loading, setLoading] = useState(false);\n  const [workoutsLoading, setWorkoutsLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [users, setUsers] = useState([]);\n\n  // Plan categories\n  const planCategories = ['Débutant', 'Intermédiaire', 'Avancé'];\n\n  // Workout categories\n  const workoutCategories = ['Aero 1', 'Vitesse', 'Mixte', 'Technique', 'Récupération'];\n\n  // Load plan data if in edit mode\n  useEffect(() => {\n    const fetchPlan = async () => {\n      if (isEditMode) {\n        try {\n          setLoading(true);\n          const response = await getPlan(id);\n          const planData = response.data;\n          setFormData({\n            title: planData.title || '',\n            description: planData.description || '',\n            plan_category: planData.plan_category || '',\n            user_id: planData.user_id ? planData.user_id.toString() : ''\n          });\n\n          // Fetch associated workouts\n          const workoutsResponse = await getWorkoutsForPlan(id);\n          const currentWorkouts = workoutsResponse.data || [];\n          setCurrentPlanWorkouts(currentWorkouts);\n\n          // Set the initially selected workouts\n          setSelectedWorkouts(currentWorkouts.map(workout => workout.id));\n          setLoading(false);\n        } catch (err) {\n          var _err$response, _err$response$data;\n          console.error('Erreur lors du chargement du plan:', err);\n          setError(`Erreur lors du chargement du plan: ${((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message}`);\n          setLoading(false);\n        }\n      }\n    };\n    fetchPlan();\n  }, [id, isEditMode]);\n\n  // Load users and workouts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch users\n        const usersResponse = await fetch('http://127.0.0.1:8000/api/users');\n        const usersData = await usersResponse.json();\n        setUsers(usersData);\n\n        // Fetch all workouts\n        setWorkoutsLoading(true);\n        const workoutsResponse = await axios.get('http://127.0.0.1:8000/api/workouts');\n\n        // Enrich workouts with additional data\n        const workoutsWithStats = await Promise.all(workoutsResponse.data.map(async workout => {\n          try {\n            // Get swim sets for the workout to calculate stats\n            const setsResponse = await axios.get(`http://127.0.0.1:8000/api/workouts/${workout.id}/swim-sets`);\n            const sets = setsResponse.data || [];\n\n            // Calculate total distance\n            const totalDistance = sets.reduce((acc, set) => {\n              return acc + (set.set_distance || 0) * (set.set_repetition || 1);\n            }, 0);\n\n            // Count sets\n            const setsCount = sets.length;\n            return {\n              ...workout,\n              totalDistance,\n              setsCount\n            };\n          } catch (err) {\n            console.error(`Error fetching details for workout ${workout.id}:`, err);\n            return {\n              ...workout,\n              totalDistance: 0,\n              setsCount: 0\n            };\n          }\n        }));\n        setAllWorkouts(workoutsWithStats);\n        setWorkoutsLoading(false);\n      } catch (err) {\n        console.error(\"Erreur lors du chargement des données:\", err);\n        setWorkoutsLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Handle form input changes\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Handle category selection\n  const handleCategoryChange = category => {\n    setFormData(prev => ({\n      ...prev,\n      plan_category: prev.plan_category === category ? '' : category\n    }));\n  };\n\n  // Handle workout toggle\n  const handleWorkoutToggle = workoutId => {\n    setSelectedWorkouts(prev => {\n      if (prev.includes(workoutId)) {\n        return prev.filter(id => id !== workoutId);\n      } else {\n        return [...prev, workoutId];\n      }\n    });\n  };\n\n  // Sort and filter workouts\n  const getSortedFilteredWorkouts = () => {\n    // Filter workouts based on search term and category\n    let filteredWorkouts = allWorkouts.filter(workout => {\n      const matchesSearch = workout.title.toLowerCase().includes(workoutSearchTerm.toLowerCase()) || workout.description && workout.description.toLowerCase().includes(workoutSearchTerm.toLowerCase());\n      const matchesCategory = workoutFilter === 'all' || workout.workout_category === workoutFilter;\n      return matchesSearch && matchesCategory;\n    });\n\n    // Sort workouts\n    if (sortConfig.key) {\n      filteredWorkouts.sort((a, b) => {\n        if (a[sortConfig.key] < b[sortConfig.key]) {\n          return sortConfig.direction === 'asc' ? -1 : 1;\n        }\n        if (a[sortConfig.key] > b[sortConfig.key]) {\n          return sortConfig.direction === 'asc' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return filteredWorkouts;\n  };\n\n  // Pagination\n  const sortedFilteredWorkouts = getSortedFilteredWorkouts();\n  const pageCount = Math.ceil(sortedFilteredWorkouts.length / itemsPerPage);\n  const indexOfLastWorkout = currentPage * itemsPerPage;\n  const indexOfFirstWorkout = indexOfLastWorkout - itemsPerPage;\n  const currentWorkouts = sortedFilteredWorkouts.slice(indexOfFirstWorkout, indexOfLastWorkout);\n\n  // Change page\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  // Handle sort request\n  const requestSort = key => {\n    let direction = 'asc';\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n\n  // Get sort direction icon\n  const getSortIcon = key => {\n    if (sortConfig.key === key) {\n      return sortConfig.direction === 'asc' ? /*#__PURE__*/_jsxDEV(FaSortUp, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 47\n      }, this) : /*#__PURE__*/_jsxDEV(FaSortDown, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 62\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(FaSort, {\n      className: \"text-muted\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 12\n    }, this);\n  };\n\n  // Format distance\n  const formatDistance = meters => {\n    if (meters >= 1000) {\n      return `${(meters / 1000).toFixed(1)} km`;\n    }\n    return `${meters} m`;\n  };\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Validation\n    if (!formData.title) {\n      setError('Le titre est requis');\n      return;\n    }\n    if (!formData.user_id) {\n      setError('Veuillez sélectionner un créateur');\n      return;\n    }\n    try {\n      setSaving(true);\n      setError(null);\n\n      // Préparer les données à envoyer\n      const submitData = {\n        title: formData.title,\n        description: formData.description,\n        plan_category: formData.plan_category || null,\n        user_id: parseInt(formData.user_id)\n      };\n      let planId;\n      if (isEditMode) {\n        await updatePlan(id, submitData);\n        planId = id;\n      } else {\n        const response = await createPlan(submitData);\n        planId = response.data.id;\n      }\n\n      // Associate workouts with plan\n      if (isEditMode) {\n        // Get current workout IDs\n        const currentWorkoutIds = currentPlanWorkouts.map(workout => workout.id);\n\n        // Determine which workouts to add and remove\n        const workoutsToAdd = selectedWorkouts.filter(id => !currentWorkoutIds.includes(id));\n        const workoutsToRemove = currentWorkoutIds.filter(id => !selectedWorkouts.includes(id));\n\n        // Add new workouts\n        for (const workoutId of workoutsToAdd) {\n          try {\n            await addWorkoutToPlan(planId, workoutId);\n          } catch (err) {\n            console.error(`Error associating workout ${workoutId}:`, err);\n          }\n        }\n\n        // Remove workouts no longer needed\n        for (const workoutId of workoutsToRemove) {\n          try {\n            await removeWorkoutFromPlan(planId, workoutId);\n          } catch (err) {\n            console.error(`Error removing workout ${workoutId}:`, err);\n          }\n        }\n      } else {\n        // For new plans, simply add all selected workouts\n        for (const workoutId of selectedWorkouts) {\n          try {\n            await addWorkoutToPlan(planId, workoutId);\n          } catch (err) {\n            console.error(`Error associating workout ${workoutId}:`, err);\n          }\n        }\n      }\n\n      // Redirect to plan list\n      navigate('/admin/plans');\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Erreur lors de la sauvegarde:', err);\n      setError(`Erreur lors de l'enregistrement: ${((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || err.message}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-outline-primary mb-4\",\n      onClick: () => navigate('/admin/plans'),\n      children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n        className: \"me-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this), \" Retour \\xE0 la liste\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title mb-0\",\n          children: isEditMode ? \"Modifier le plan\" : \"Créer un nouveau plan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-border text-primary\",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Chargement...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger\",\n            role: \"alert\",\n            children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {\n              className: \"me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 19\n            }, this), error]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              className: \"form-label\",\n              children: \"Titre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"title\",\n              name: \"title\",\n              value: formData.title,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextEditor, {\n              value: formData.description,\n              onChange: value => setFormData(prev => ({\n                ...prev,\n                description: value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label d-block\",\n              children: \"Cat\\xE9gorie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex flex-wrap gap-2\",\n              children: planCategories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `btn ${formData.plan_category === category ? 'btn-primary' : 'btn-outline-primary'}`,\n                onClick: () => handleCategoryChange(category),\n                children: category\n              }, category, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"user_id\",\n              className: \"form-label\",\n              children: \"Cr\\xE9\\xE9 par\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              id: \"user_id\",\n              name: \"user_id\",\n              value: formData.user_id,\n              onChange: handleChange,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"S\\xE9lectionner un cr\\xE9ateur\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, this), users.map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: user.id,\n                children: user.username || user.email\n              }, user.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card mt-4 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header bg-white\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"mb-0\",\n                  children: [/*#__PURE__*/_jsxDEV(FaSwimmer, {\n                    className: \"me-2 text-primary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 23\n                  }, this), \"S\\xE9ances d'entra\\xEEnement\", selectedWorkouts.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge bg-primary ms-2\",\n                    children: selectedWorkouts.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-6 mb-2 mb-md-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"input-group-text bg-light\",\n                        children: /*#__PURE__*/_jsxDEV(FaSearch, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 438,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 437,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: \"form-control\",\n                        placeholder: \"Rechercher une s\\xE9ance...\",\n                        value: workoutSearchTerm,\n                        onChange: e => {\n                          setWorkoutSearchTerm(e.target.value);\n                          setCurrentPage(1); // Reset to first page on search\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 440,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 436,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"input-group-text bg-light\",\n                        children: /*#__PURE__*/_jsxDEV(FaFilter, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 455,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 454,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: \"form-select\",\n                        value: workoutFilter,\n                        onChange: e => {\n                          setWorkoutFilter(e.target.value);\n                          setCurrentPage(1); // Reset to first page on filter change\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"all\",\n                          children: \"Toutes les cat\\xE9gories\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 465,\n                          columnNumber: 29\n                        }, this), workoutCategories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: category,\n                          children: category\n                        }, category, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 467,\n                          columnNumber: 31\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this), selectedWorkouts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-success mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(FaRegCheckSquare, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 23\n                }, this), selectedWorkouts.length, \" \", selectedWorkouts.length === 1 ? 'séance sélectionnée' : 'séances sélectionnées', /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-sm btn-outline-secondary float-end\",\n                  onClick: () => setSelectedWorkouts([]),\n                  children: \"Tout d\\xE9s\\xE9lectionner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 21\n              }, this), workoutsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"spinner-border text-primary\",\n                  role: \"status\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"visually-hidden\",\n                    children: \"Chargement...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-2\",\n                  children: \"Chargement des s\\xE9ances...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 21\n              }, this) : allWorkouts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-info\",\n                children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 23\n                }, this), \"Aucune s\\xE9ance disponible. Veuillez d'abord cr\\xE9er des s\\xE9ances.\", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-primary btn-sm\",\n                    onClick: () => navigate('/admin/workouts/new'),\n                    children: [/*#__PURE__*/_jsxDEV(FaPlus, {\n                      className: \"me-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 508,\n                      columnNumber: 27\n                    }, this), \" Cr\\xE9er une s\\xE9ance\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 21\n              }, this) : sortedFilteredWorkouts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-warning\",\n                children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 23\n                }, this), \"Aucune s\\xE9ance ne correspond \\xE0 votre recherche.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"table-responsive\",\n                  children: /*#__PURE__*/_jsxDEV(\"table\", {\n                    className: \"table table-hover\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      className: \"table-light\",\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          style: {\n                            width: \"50px\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 523,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          style: {\n                            cursor: 'pointer'\n                          },\n                          onClick: () => requestSort('id'),\n                          className: \"d-flex align-items-center\",\n                          children: [\"ID \", getSortIcon('id')]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 524,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          style: {\n                            cursor: 'pointer'\n                          },\n                          onClick: () => requestSort('title'),\n                          className: \"d-flex align-items-center\",\n                          children: [\"Titre \", getSortIcon('title')]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 531,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          style: {\n                            cursor: 'pointer'\n                          },\n                          onClick: () => requestSort('workout_category'),\n                          children: [\"Cat\\xE9gorie \", getSortIcon('workout_category')]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 538,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"text-center\",\n                          style: {\n                            cursor: 'pointer'\n                          },\n                          onClick: () => requestSort('totalDistance'),\n                          children: [/*#__PURE__*/_jsxDEV(FaRulerHorizontal, {\n                            className: \"me-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 549,\n                            columnNumber: 33\n                          }, this), \"Distance \", getSortIcon('totalDistance')]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 544,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"text-center\",\n                          style: {\n                            cursor: 'pointer'\n                          },\n                          onClick: () => requestSort('setsCount'),\n                          children: [/*#__PURE__*/_jsxDEV(FaLayerGroup, {\n                            className: \"me-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 557,\n                            columnNumber: 33\n                          }, this), \"S\\xE9ries \", getSortIcon('setsCount')]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 552,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"text-center\",\n                          children: \"Aper\\xE7u\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 560,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 522,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 521,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: currentWorkouts.map(workout => /*#__PURE__*/_jsxDEV(\"tr\", {\n                        onClick: () => handleWorkoutToggle(workout.id),\n                        style: {\n                          cursor: 'pointer'\n                        },\n                        className: selectedWorkouts.includes(workout.id) ? 'table-primary' : '',\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center\",\n                          children: selectedWorkouts.includes(workout.id) ? /*#__PURE__*/_jsxDEV(FaRegCheckSquare, {\n                            className: \"text-primary\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 573,\n                            columnNumber: 37\n                          }, this) : /*#__PURE__*/_jsxDEV(FaRegSquare, {\n                            className: \"text-muted\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 575,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 571,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: workout.id\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 578,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"d-flex align-items-center\",\n                            children: [/*#__PURE__*/_jsxDEV(FaSwimmer, {\n                              className: \"text-primary me-2\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 581,\n                              columnNumber: 37\n                            }, this), workout.title]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 580,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 579,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: workout.workout_category ? /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: `badge bg-${workout.workout_category === 'Aero 1' ? 'success' : workout.workout_category === 'Vitesse' ? 'danger' : workout.workout_category === 'Technique' ? 'info' : workout.workout_category === 'Récupération' ? 'warning' : 'secondary'}`,\n                            children: workout.workout_category\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 587,\n                            columnNumber: 37\n                          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-muted\",\n                            children: \"\\u2014\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 596,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 585,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center\",\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"badge bg-info text-dark\",\n                            children: formatDistance(workout.totalDistance)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 600,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 599,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center\",\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"badge bg-secondary\",\n                            children: workout.setsCount\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 605,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 604,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center\",\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"button\",\n                            className: \"btn btn-sm btn-outline-primary\",\n                            onClick: e => {\n                              e.stopPropagation(); // Prevent row click\n                              navigate(`/admin/workouts/${workout.id}`);\n                            },\n                            title: \"Voir d\\xE9tails\",\n                            children: /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 619,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 610,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 609,\n                          columnNumber: 33\n                        }, this)]\n                      }, workout.id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 565,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 563,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 23\n                }, this), pageCount > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-center mt-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"pagination pagination-sm\",\n                      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                        className: `page-item ${currentPage === 1 ? 'disabled' : ''}`,\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"page-link\",\n                          onClick: () => paginate(currentPage - 1),\n                          disabled: currentPage === 1,\n                          children: \"\\xAB\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 634,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 633,\n                        columnNumber: 31\n                      }, this), Array.from({\n                        length: pageCount\n                      }, (_, i) => i + 1).map(number => /*#__PURE__*/_jsxDEV(\"li\", {\n                        className: `page-item ${currentPage === number ? 'active' : ''}`,\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"page-link\",\n                          onClick: () => paginate(number),\n                          children: number\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 646,\n                          columnNumber: 35\n                        }, this)\n                      }, number, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 645,\n                        columnNumber: 33\n                      }, this)), /*#__PURE__*/_jsxDEV(\"li\", {\n                        className: `page-item ${currentPage === pageCount ? 'disabled' : ''}`,\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"page-link\",\n                          onClick: () => paginate(currentPage + 1),\n                          disabled: currentPage === pageCount,\n                          children: \"\\xBB\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 657,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 656,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 632,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 631,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 630,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-center align-items-center mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"me-2\",\n                    children: \"Afficher\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"form-select form-select-sm\",\n                    style: {\n                      width: '60px'\n                    },\n                    value: itemsPerPage,\n                    onChange: e => {\n                      setItemsPerPage(Number(e.target.value));\n                      setCurrentPage(1); // Reset to first page\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"5\",\n                      children: \"5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 683,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"10\",\n                      children: \"10\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 684,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"15\",\n                      children: \"15\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 685,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"20\",\n                      children: \"20\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 686,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 674,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ms-2\",\n                    children: \"par page\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 688,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: saving,\n              children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"spinner-border spinner-border-sm me-2\",\n                  role: \"status\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 23\n                }, this), \"Enregistrement...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(FaSave, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 23\n                }, this), \" Enregistrer\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 5\n  }, this);\n};\n_s(PlanFormPage, \"86khOk6+01iD/DCyV4F//1iqE4U=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = PlanFormPage;\nexport default PlanFormPage;\nvar _c;\n$RefreshReg$(_c, \"PlanFormPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","FaArrowLeft","FaSave","FaSwimmer","FaSearch","FaPlus","FaTrash","FaEdit","FaEye","FaRegCheckSquare","FaRegSquare","FaSort","FaSortUp","FaSortDown","FaFilter","FaRulerHorizontal","FaLayerGroup","FaInfoCircle","getPlan","createPlan","updatePlan","getWorkoutsForPlan","addWorkoutToPlan","removeWorkoutFromPlan","TextEditor","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","PlanFormPage","_s","id","navigate","isEditMode","formData","setFormData","title","description","plan_category","user_id","allWorkouts","setAllWorkouts","selectedWorkouts","setSelectedWorkouts","currentPlanWorkouts","setCurrentPlanWorkouts","workoutSearchTerm","setWorkoutSearchTerm","workoutFilter","setWorkoutFilter","sortConfig","setSortConfig","key","direction","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","loading","setLoading","workoutsLoading","setWorkoutsLoading","saving","setSaving","error","setError","users","setUsers","planCategories","workoutCategories","fetchPlan","response","planData","data","toString","workoutsResponse","currentWorkouts","map","workout","err","_err$response","_err$response$data","console","message","fetchData","usersResponse","fetch","usersData","json","get","workoutsWithStats","Promise","all","setsResponse","sets","totalDistance","reduce","acc","set","set_distance","set_repetition","setsCount","length","handleChange","e","name","value","target","prev","handleCategoryChange","category","handleWorkoutToggle","workoutId","includes","filter","getSortedFilteredWorkouts","filteredWorkouts","matchesSearch","toLowerCase","matchesCategory","workout_category","sort","a","b","sortedFilteredWorkouts","pageCount","Math","ceil","indexOfLastWorkout","indexOfFirstWorkout","slice","paginate","pageNumber","requestSort","getSortIcon","fileName","_jsxFileName","lineNumber","columnNumber","className","formatDistance","meters","toFixed","handleSubmit","preventDefault","submitData","parseInt","planId","currentWorkoutIds","workoutsToAdd","workoutsToRemove","_err$response2","_err$response2$data","children","onClick","role","onSubmit","htmlFor","type","onChange","required","user","username","email","placeholder","style","width","cursor","stopPropagation","disabled","Array","from","_","i","number","Number","_c","$RefreshReg$"],"sources":["/Users/mac/Downloads/APP_NS_V1/dev_projet/sauvegardegit/front/src/pages/admin/plans/PlanFormPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { \n  FaArrowLeft, \n  FaSave, \n  FaSwimmer, \n  FaSearch, \n  FaPlus, \n  FaTrash, \n  FaEdit, \n  FaEye,\n  FaRegCheckSquare,\n  FaRegSquare,\n  FaSort,\n  FaSortUp,\n  FaSortDown,\n  FaFilter,\n  FaRulerHorizontal,\n  FaLayerGroup,\n  FaInfoCircle\n} from 'react-icons/fa';\nimport { getPlan, createPlan, updatePlan } from '../../../services/plans';\nimport { getWorkoutsForPlan, addWorkoutToPlan, removeWorkoutFromPlan } from '../../../services/planWorkouts';\nimport TextEditor from '../../../components/ui/forms/TextEditor';\nimport \"quill/dist/quill.snow.css\"; // Import du CSS pour TextEditor\nimport axios from 'axios';\n\nconst PlanFormPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const isEditMode = !!id;\n\n  // Form state\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    plan_category: '',\n    user_id: ''\n  });\n\n  // Workouts state\n  const [allWorkouts, setAllWorkouts] = useState([]);\n  const [selectedWorkouts, setSelectedWorkouts] = useState([]);\n  const [currentPlanWorkouts, setCurrentPlanWorkouts] = useState([]);\n  const [workoutSearchTerm, setWorkoutSearchTerm] = useState('');\n  const [workoutFilter, setWorkoutFilter] = useState('all');\n  const [sortConfig, setSortConfig] = useState({\n    key: 'id',\n    direction: 'asc'\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(5);\n\n  // Status states\n  const [loading, setLoading] = useState(false);\n  const [workoutsLoading, setWorkoutsLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [users, setUsers] = useState([]);\n\n  // Plan categories\n  const planCategories = ['Débutant', 'Intermédiaire', 'Avancé'];\n\n  // Workout categories\n  const workoutCategories = ['Aero 1', 'Vitesse', 'Mixte', 'Technique', 'Récupération'];\n\n  // Load plan data if in edit mode\n  useEffect(() => {\n    const fetchPlan = async () => {\n      if (isEditMode) {\n        try {\n          setLoading(true);\n          const response = await getPlan(id);\n          const planData = response.data;\n          \n          setFormData({\n            title: planData.title || '',\n            description: planData.description || '',\n            plan_category: planData.plan_category || '',\n            user_id: planData.user_id ? planData.user_id.toString() : ''\n          });\n          \n          // Fetch associated workouts\n          const workoutsResponse = await getWorkoutsForPlan(id);\n          const currentWorkouts = workoutsResponse.data || [];\n          setCurrentPlanWorkouts(currentWorkouts);\n          \n          // Set the initially selected workouts\n          setSelectedWorkouts(currentWorkouts.map(workout => workout.id));\n          \n          setLoading(false);\n        } catch (err) {\n          console.error('Erreur lors du chargement du plan:', err);\n          setError(`Erreur lors du chargement du plan: ${err.response?.data?.message || err.message}`);\n          setLoading(false);\n        }\n      }\n    };\n\n    fetchPlan();\n  }, [id, isEditMode]);\n\n  // Load users and workouts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch users\n        const usersResponse = await fetch('http://127.0.0.1:8000/api/users');\n        const usersData = await usersResponse.json();\n        setUsers(usersData);\n        \n        // Fetch all workouts\n        setWorkoutsLoading(true);\n        const workoutsResponse = await axios.get('http://127.0.0.1:8000/api/workouts');\n        \n        // Enrich workouts with additional data\n        const workoutsWithStats = await Promise.all(\n          workoutsResponse.data.map(async (workout) => {\n            try {\n              // Get swim sets for the workout to calculate stats\n              const setsResponse = await axios.get(`http://127.0.0.1:8000/api/workouts/${workout.id}/swim-sets`);\n              const sets = setsResponse.data || [];\n              \n              // Calculate total distance\n              const totalDistance = sets.reduce((acc, set) => {\n                return acc + ((set.set_distance || 0) * (set.set_repetition || 1));\n              }, 0);\n              \n              // Count sets\n              const setsCount = sets.length;\n              \n              return {\n                ...workout,\n                totalDistance,\n                setsCount\n              };\n            } catch (err) {\n              console.error(`Error fetching details for workout ${workout.id}:`, err);\n              return {\n                ...workout,\n                totalDistance: 0,\n                setsCount: 0\n              };\n            }\n          })\n        );\n        \n        setAllWorkouts(workoutsWithStats);\n        setWorkoutsLoading(false);\n      } catch (err) {\n        console.error(\"Erreur lors du chargement des données:\", err);\n        setWorkoutsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  // Handle form input changes\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Handle category selection\n  const handleCategoryChange = (category) => {\n    setFormData(prev => ({\n      ...prev,\n      plan_category: prev.plan_category === category ? '' : category\n    }));\n  };\n\n  // Handle workout toggle\n  const handleWorkoutToggle = (workoutId) => {\n    setSelectedWorkouts(prev => {\n      if (prev.includes(workoutId)) {\n        return prev.filter(id => id !== workoutId);\n      } else {\n        return [...prev, workoutId];\n      }\n    });\n  };\n\n  // Sort and filter workouts\n  const getSortedFilteredWorkouts = () => {\n    // Filter workouts based on search term and category\n    let filteredWorkouts = allWorkouts.filter(workout => {\n      const matchesSearch = workout.title.toLowerCase().includes(workoutSearchTerm.toLowerCase()) ||\n                        (workout.description && workout.description.toLowerCase().includes(workoutSearchTerm.toLowerCase()));\n      const matchesCategory = workoutFilter === 'all' || workout.workout_category === workoutFilter;\n      return matchesSearch && matchesCategory;\n    });\n    \n    // Sort workouts\n    if (sortConfig.key) {\n      filteredWorkouts.sort((a, b) => {\n        if (a[sortConfig.key] < b[sortConfig.key]) {\n          return sortConfig.direction === 'asc' ? -1 : 1;\n        }\n        if (a[sortConfig.key] > b[sortConfig.key]) {\n          return sortConfig.direction === 'asc' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    \n    return filteredWorkouts;\n  };\n\n  // Pagination\n  const sortedFilteredWorkouts = getSortedFilteredWorkouts();\n  const pageCount = Math.ceil(sortedFilteredWorkouts.length / itemsPerPage);\n  const indexOfLastWorkout = currentPage * itemsPerPage;\n  const indexOfFirstWorkout = indexOfLastWorkout - itemsPerPage;\n  const currentWorkouts = sortedFilteredWorkouts.slice(indexOfFirstWorkout, indexOfLastWorkout);\n\n  // Change page\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n  // Handle sort request\n  const requestSort = (key) => {\n    let direction = 'asc';\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({ key, direction });\n  };\n\n  // Get sort direction icon\n  const getSortIcon = (key) => {\n    if (sortConfig.key === key) {\n      return sortConfig.direction === 'asc' ? <FaSortUp /> : <FaSortDown />;\n    }\n    return <FaSort className=\"text-muted\" />;\n  };\n\n  // Format distance\n  const formatDistance = (meters) => {\n    if (meters >= 1000) {\n      return `${(meters / 1000).toFixed(1)} km`;\n    }\n    return `${meters} m`;\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Validation\n    if (!formData.title) {\n      setError('Le titre est requis');\n      return;\n    }\n\n    if (!formData.user_id) {\n      setError('Veuillez sélectionner un créateur');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      setError(null);\n\n      // Préparer les données à envoyer\n      const submitData = {\n        title: formData.title,\n        description: formData.description,\n        plan_category: formData.plan_category || null,\n        user_id: parseInt(formData.user_id)\n      };\n\n      let planId;\n      if (isEditMode) {\n        await updatePlan(id, submitData);\n        planId = id;\n      } else {\n        const response = await createPlan(submitData);\n        planId = response.data.id;\n      }\n\n      // Associate workouts with plan\n      if (isEditMode) {\n        // Get current workout IDs\n        const currentWorkoutIds = currentPlanWorkouts.map(workout => workout.id);\n        \n        // Determine which workouts to add and remove\n        const workoutsToAdd = selectedWorkouts.filter(id => !currentWorkoutIds.includes(id));\n        const workoutsToRemove = currentWorkoutIds.filter(id => !selectedWorkouts.includes(id));\n        \n        // Add new workouts\n        for (const workoutId of workoutsToAdd) {\n          try {\n            await addWorkoutToPlan(planId, workoutId);\n          } catch (err) {\n            console.error(`Error associating workout ${workoutId}:`, err);\n          }\n        }\n        \n        // Remove workouts no longer needed\n        for (const workoutId of workoutsToRemove) {\n          try {\n            await removeWorkoutFromPlan(planId, workoutId);\n          } catch (err) {\n            console.error(`Error removing workout ${workoutId}:`, err);\n          }\n        }\n      } else {\n        // For new plans, simply add all selected workouts\n        for (const workoutId of selectedWorkouts) {\n          try {\n            await addWorkoutToPlan(planId, workoutId);\n          } catch (err) {\n            console.error(`Error associating workout ${workoutId}:`, err);\n          }\n        }\n      }\n\n      // Redirect to plan list\n      navigate('/admin/plans');\n    } catch (err) {\n      console.error('Erreur lors de la sauvegarde:', err);\n      setError(`Erreur lors de l'enregistrement: ${err.response?.data?.message || err.message}`);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"container py-4\">\n      <button \n        className=\"btn btn-outline-primary mb-4\" \n        onClick={() => navigate('/admin/plans')}\n      >\n        <FaArrowLeft className=\"me-2\" /> Retour à la liste\n      </button>\n\n      <div className=\"card shadow mb-4\">\n        <div className=\"card-header bg-white\">\n          <h5 className=\"card-title mb-0\">\n            {isEditMode ? \"Modifier le plan\" : \"Créer un nouveau plan\"}\n          </h5>\n        </div>\n\n        <div className=\"card-body\">\n          {loading ? (\n            <div className=\"text-center py-5\">\n              <div className=\"spinner-border text-primary\" role=\"status\">\n                <span className=\"visually-hidden\">Chargement...</span>\n              </div>\n            </div>\n          ) : (\n            <form onSubmit={handleSubmit}>\n              {error && (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  <FaInfoCircle className=\"me-2\" />\n                  {error}\n                </div>\n              )}\n\n              <div className=\"mb-3\">\n                <label htmlFor=\"title\" className=\"form-label\">Titre</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"title\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleChange}\n                  required\n                />\n              </div>\n\n              <div className=\"mb-3\">\n                <label className=\"form-label\">Description</label>\n                <TextEditor \n                  value={formData.description} \n                  onChange={(value) => setFormData(prev => ({ ...prev, description: value }))} \n                />\n              </div>\n\n              <div className=\"mb-4\">\n                <label className=\"form-label d-block\">Catégorie</label>\n                <div className=\"d-flex flex-wrap gap-2\">\n                  {planCategories.map((category) => (\n                    <button\n                      key={category}\n                      type=\"button\"\n                      className={`btn ${formData.plan_category === category ? 'btn-primary' : 'btn-outline-primary'}`}\n                      onClick={() => handleCategoryChange(category)}\n                    >\n                      {category}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"mb-3\">\n                <label htmlFor=\"user_id\" className=\"form-label\">Créé par</label>\n                <select\n                  className=\"form-select\"\n                  id=\"user_id\"\n                  name=\"user_id\"\n                  value={formData.user_id}\n                  onChange={handleChange}\n                  required\n                >\n                  <option value=\"\">Sélectionner un créateur</option>\n                  {users.map((user) => (\n                    <option key={user.id} value={user.id}>\n                      {user.username || user.email}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Séances d'entraînement */}\n              <div className=\"card mt-4 mb-4\">\n                <div className=\"card-header bg-white\">\n                  <div className=\"d-flex justify-content-between align-items-center\">\n                    <h6 className=\"mb-0\">\n                      <FaSwimmer className=\"me-2 text-primary\" /> \n                      Séances d'entraînement\n                      {selectedWorkouts.length > 0 && (\n                        <span className=\"badge bg-primary ms-2\">{selectedWorkouts.length}</span>\n                      )}\n                    </h6>\n                  </div>\n                </div>\n                <div className=\"card-body\">\n                  <div className=\"mb-3\">\n                    <div className=\"row\">\n                      <div className=\"col-md-6 mb-2 mb-md-0\">\n                        <div className=\"input-group\">\n                          <span className=\"input-group-text bg-light\">\n                            <FaSearch />\n                          </span>\n                          <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Rechercher une séance...\"\n                            value={workoutSearchTerm}\n                            onChange={(e) => {\n                              setWorkoutSearchTerm(e.target.value);\n                              setCurrentPage(1); // Reset to first page on search\n                            }}\n                          />\n                        </div>\n                      </div>\n                      <div className=\"col-md-6\">\n                        <div className=\"input-group\">\n                          <span className=\"input-group-text bg-light\">\n                            <FaFilter />\n                          </span>\n                          <select\n                            className=\"form-select\"\n                            value={workoutFilter}\n                            onChange={(e) => {\n                              setWorkoutFilter(e.target.value);\n                              setCurrentPage(1); // Reset to first page on filter change\n                            }}\n                          >\n                            <option value=\"all\">Toutes les catégories</option>\n                            {workoutCategories.map(category => (\n                              <option key={category} value={category}>{category}</option>\n                            ))}\n                          </select>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Selected workouts summary */}\n                  {selectedWorkouts.length > 0 && (\n                    <div className=\"alert alert-success mb-3\">\n                      <FaRegCheckSquare className=\"me-2\" />\n                      {selectedWorkouts.length} {selectedWorkouts.length === 1 ? 'séance sélectionnée' : 'séances sélectionnées'}\n                      {/* Button to deselect all workouts */}\n                      <button \n                        type=\"button\"\n                        className=\"btn btn-sm btn-outline-secondary float-end\"\n                        onClick={() => setSelectedWorkouts([])}\n                      >\n                        Tout désélectionner\n                      </button>\n                    </div>\n                  )}\n\n                  {workoutsLoading ? (\n                    <div className=\"text-center py-4\">\n                      <div className=\"spinner-border text-primary\" role=\"status\">\n                        <span className=\"visually-hidden\">Chargement...</span>\n                      </div>\n                      <p className=\"mt-2\">Chargement des séances...</p>\n                    </div>\n                  ) : allWorkouts.length === 0 ? (\n                    <div className=\"alert alert-info\">\n                      <FaInfoCircle className=\"me-2\" />\n                      Aucune séance disponible. Veuillez d'abord créer des séances.\n                      <div className=\"mt-2\">\n                        <button \n                          type=\"button\"\n                          className=\"btn btn-primary btn-sm\" \n                          onClick={() => navigate('/admin/workouts/new')}\n                        >\n                          <FaPlus className=\"me-1\" /> Créer une séance\n                        </button>\n                      </div>\n                    </div>\n                  ) : sortedFilteredWorkouts.length === 0 ? (\n                    <div className=\"alert alert-warning\">\n                      <FaInfoCircle className=\"me-2\" />\n                      Aucune séance ne correspond à votre recherche.\n                    </div>\n                  ) : (\n                    <>\n                      <div className=\"table-responsive\">\n                        <table className=\"table table-hover\">\n                          <thead className=\"table-light\">\n                            <tr>\n                              <th style={{width: \"50px\"}}></th>\n                              <th \n                                style={{cursor: 'pointer'}}\n                                onClick={() => requestSort('id')}\n                                className=\"d-flex align-items-center\"\n                              >\n                                ID {getSortIcon('id')}\n                              </th>\n                              <th \n                                style={{cursor: 'pointer'}}\n                                onClick={() => requestSort('title')}\n                                className=\"d-flex align-items-center\"\n                              >\n                                Titre {getSortIcon('title')}\n                              </th>\n                              <th \n                                style={{cursor: 'pointer'}}\n                                onClick={() => requestSort('workout_category')}\n                              >\n                                Catégorie {getSortIcon('workout_category')}\n                              </th>\n                              <th \n                                className=\"text-center\"\n                                style={{cursor: 'pointer'}}\n                                onClick={() => requestSort('totalDistance')}\n                              >\n                                <FaRulerHorizontal className=\"me-1\" />\n                                Distance {getSortIcon('totalDistance')}\n                              </th>\n                              <th \n                                className=\"text-center\"\n                                style={{cursor: 'pointer'}}\n                                onClick={() => requestSort('setsCount')}\n                              >\n                                <FaLayerGroup className=\"me-1\" />\n                                Séries {getSortIcon('setsCount')}\n                              </th>\n                              <th className=\"text-center\">Aperçu</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {currentWorkouts.map((workout) => (\n                              <tr \n                                key={workout.id}\n                                onClick={() => handleWorkoutToggle(workout.id)}\n                                style={{cursor: 'pointer'}}\n                                className={selectedWorkouts.includes(workout.id) ? 'table-primary' : ''}\n                              >\n                                <td className=\"text-center\">\n                                  {selectedWorkouts.includes(workout.id) ? (\n                                    <FaRegCheckSquare className=\"text-primary\" />\n                                  ) : (\n                                    <FaRegSquare className=\"text-muted\" />\n                                  )}\n                                </td>\n                                <td>{workout.id}</td>\n                                <td>\n                                  <div className=\"d-flex align-items-center\">\n                                    <FaSwimmer className=\"text-primary me-2\" />\n                                    {workout.title}\n                                  </div>\n                                </td>\n                                <td>\n                                  {workout.workout_category ? (\n                                    <span className={`badge bg-${\n                                      workout.workout_category === 'Aero 1' ? 'success' :\n                                      workout.workout_category === 'Vitesse' ? 'danger' :\n                                      workout.workout_category === 'Technique' ? 'info' :\n                                      workout.workout_category === 'Récupération' ? 'warning' : 'secondary'\n                                    }`}>\n                                      {workout.workout_category}\n                                    </span>\n                                  ) : (\n                                    <span className=\"text-muted\">—</span>\n                                  )}\n                                </td>\n                                <td className=\"text-center\">\n                                  <span className=\"badge bg-info text-dark\">\n                                    {formatDistance(workout.totalDistance)}\n                                  </span>\n                                </td>\n                                <td className=\"text-center\">\n                                  <span className=\"badge bg-secondary\">\n                                    {workout.setsCount}\n                                  </span>\n                                </td>\n                                <td className=\"text-center\">\n                                  <button\n                                    type=\"button\"\n                                    className=\"btn btn-sm btn-outline-primary\"\n                                    onClick={(e) => {\n                                      e.stopPropagation(); // Prevent row click\n                                      navigate(`/admin/workouts/${workout.id}`);\n                                    }}\n                                    title=\"Voir détails\"\n                                  >\n                                    <FaEye />\n                                  </button>\n                                </td>\n                              </tr>\n                            ))}\n                          </tbody>\n                        </table>\n                      </div>\n\n                      {/* Pagination */}\n                      {pageCount > 1 && (\n                        <div className=\"d-flex justify-content-center mt-3\">\n                          <nav>\n                            <ul className=\"pagination pagination-sm\">\n                              <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                                <button \n                                  type=\"button\"\n                                  className=\"page-link\" \n                                  onClick={() => paginate(currentPage - 1)}\n                                  disabled={currentPage === 1}\n                                >\n                                  &laquo;\n                                </button>\n                              </li>\n                              \n                              {Array.from({ length: pageCount }, (_, i) => i + 1).map(number => (\n                                <li key={number} className={`page-item ${currentPage === number ? 'active' : ''}`}>\n                                  <button\n                                    type=\"button\"\n                                    className=\"page-link\"\n                                    onClick={() => paginate(number)}\n                                  >\n                                    {number}\n                                  </button>\n                                </li>\n                              ))}\n                              \n                              <li className={`page-item ${currentPage === pageCount ? 'disabled' : ''}`}>\n                                <button \n                                  type=\"button\"\n                                  className=\"page-link\" \n                                  onClick={() => paginate(currentPage + 1)}\n                                  disabled={currentPage === pageCount}\n                                >\n                                  &raquo;\n                                </button>\n                              </li>\n                            </ul>\n                          </nav>\n                        </div>\n                      )}\n\n                      {/* Items per page selector */}\n                      <div className=\"d-flex justify-content-center align-items-center mt-2\">\n                        <span className=\"me-2\">Afficher</span>\n                        <select \n                          className=\"form-select form-select-sm\" \n                          style={{width: '60px'}} \n                          value={itemsPerPage}\n                          onChange={(e) => {\n                            setItemsPerPage(Number(e.target.value));\n                            setCurrentPage(1); // Reset to first page\n                          }}\n                        >\n                          <option value=\"5\">5</option>\n                          <option value=\"10\">10</option>\n                          <option value=\"15\">15</option>\n                          <option value=\"20\">20</option>\n                        </select>\n                        <span className=\"ms-2\">par page</span>\n                      </div>\n                    </>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"text-end\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                  disabled={saving}\n                >\n                  {saving ? (\n                    <>\n                      <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                      Enregistrement...\n                    </>\n                  ) : (\n                    <>\n                      <FaSave className=\"me-2\" /> Enregistrer\n                    </>\n                  )}\n                </button>\n              </div>\n            </form>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PlanFormPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}